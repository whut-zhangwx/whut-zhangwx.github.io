<!DOCTYPE html><html class="hide-aside" lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Python笔记 | 文羊羽</title><meta name="author" content="文羊羽"><meta name="copyright" content="文羊羽"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="zip函数 zip() 函数用于将多个列表(或者其它可迭代的对象)中对应的元素, 打包成一个个元组, 然后返回由这些元组组成的列表(Python3返回一个对象). 如果各个迭代器的元素个数不一致, 则返回列表长度与最短的对象相同, 利用 * 号操作符, 可以将元组解压为列表.  Note: 在 Python 3 中为了减少内存, zip() 返回的是一个对象. 如需展示列表, 需手动 list()">
<meta property="og:type" content="article">
<meta property="og:title" content="Python笔记">
<meta property="og:url" content="https://whut-zhangwx.github.io/python-note/index.html">
<meta property="og:site_name" content="文羊羽">
<meta property="og:description" content="zip函数 zip() 函数用于将多个列表(或者其它可迭代的对象)中对应的元素, 打包成一个个元组, 然后返回由这些元组组成的列表(Python3返回一个对象). 如果各个迭代器的元素个数不一致, 则返回列表长度与最短的对象相同, 利用 * 号操作符, 可以将元组解压为列表.  Note: 在 Python 3 中为了减少内存, zip() 返回的是一个对象. 如需展示列表, 需手动 list()">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://whut-zhangwx.github.io/white">
<meta property="article:published_time" content="2023-06-14T16:00:00.000Z">
<meta property="article:modified_time" content="2024-07-11T05:20:24.315Z">
<meta property="article:author" content="文羊羽">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://whut-zhangwx.github.io/white"><link rel="shortcut icon" href="/img/avatar.jpg"><link rel="canonical" href="https://whut-zhangwx.github.io/python-note/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Python笔记',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-07-11 13:20:24'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"><link href="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css" rel="stylesheet" /></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">71</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">81</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">31</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">文羊羽</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">Python笔记</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-06-14T16:00:00.000Z" title="发表于 2023-06-15 00:00:00">2023-06-15</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-07-11T05:20:24.315Z" title="更新于 2024-07-11 13:20:24">2024-07-11</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">9.4k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>52分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Python笔记"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><article class="post-content" id="article-container"><h2 id="zip函数">zip函数</h2>
<p><strong>zip()</strong> 函数用于将多个列表(或者其它可迭代的对象)中对应的元素, 打包成一个个元组, 然后返回由这些元组组成的列表(Python3返回一个对象).</p>
<p>如果各个迭代器的元素个数不一致, 则返回列表长度与最短的对象相同, 利用 * 号操作符, 可以将元组解压为列表.</p>
<blockquote>
<p>Note: 在 Python 3 中为了减少内存, zip() 返回的是一个对象. 如需展示列表, 需手动 list() 转换.</p>
</blockquote>
   <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line">b = [<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>]</span><br><span class="line">c = [<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;B&#x27;</span>,<span class="string">&#x27;C&#x27;</span>,<span class="string">&#x27;D&#x27;</span>]</span><br><span class="line">zipped = <span class="built_in">list</span>(a,b,c) <span class="comment">#将3个列表打包成一个对象</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i,j,k <span class="keyword">in</span> zipped:</span><br><span class="line">    <span class="built_in">print</span>(i,j,k)</span><br><span class="line">    </span><br><span class="line"><span class="comment">#输出</span></span><br><span class="line"><span class="number">1</span> a A</span><br><span class="line"><span class="number">2</span> b B</span><br><span class="line"><span class="number">3</span> c C</span><br><span class="line"><span class="number">4</span> d D</span><br></pre></td></tr></table></figure>
<p>zipped的数据类型实际为列表</p>
   <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[(<span class="number">1</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;A&#x27;</span>), (<span class="number">2</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;B&#x27;</span>), (<span class="number">3</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;C&#x27;</span>), (<span class="number">4</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;D&#x27;</span>)]</span><br></pre></td></tr></table></figure>
<p>列表中的元素类型为元组</p>
   <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(<span class="number">1</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;A&#x27;</span>) &lt;<span class="keyword">class</span> <span class="string">&#x27;tuple&#x27;</span>&gt;</span><br><span class="line">(<span class="number">2</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;B&#x27;</span>) &lt;<span class="keyword">class</span> <span class="string">&#x27;tuple&#x27;</span>&gt;</span><br><span class="line">(<span class="number">3</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;C&#x27;</span>) &lt;<span class="keyword">class</span> <span class="string">&#x27;tuple&#x27;</span>&gt;</span><br><span class="line">(<span class="number">4</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;D&#x27;</span>) &lt;<span class="keyword">class</span> <span class="string">&#x27;tuple&#x27;</span>&gt;</span><br></pre></td></tr></table></figure>
<h2 id="enumerate">enumerate</h2>
<p><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=enumerate#enumerate"><strong>enumerate</strong>(<em>iterable</em>, <em>start=0</em>) | docs</a></p>
<p><a target="_blank" rel="noopener" href="https://www.runoob.com/python/python-func-enumerate.html"><em>Python</em> <em>enumerate</em>() 函数 | 菜鸟教程</a></p>
<p><code>enumerate()</code> 是python的内置函数, 常用于在循环中计数. 它有两个参数, 第一个参数必须是列表, 元组等可迭代的数据结构; 第二个参数是开始的数字, 一般取0(默认)和1, 表示从0, 1开始计数.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">array = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>]</span><br><span class="line"><span class="keyword">for</span> index, item <span class="keyword">in</span> <span class="built_in">enumerate</span>(array,<span class="number">1</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;%d, %s&quot;</span> % (index,item))</span><br><span class="line">    </span><br><span class="line"><span class="comment">#输出</span></span><br><span class="line"><span class="number">1</span>, a</span><br><span class="line"><span class="number">2</span>, b</span><br><span class="line"><span class="number">3</span>, c</span><br></pre></td></tr></table></figure>
<h2 id="迭代器-Iterators">迭代器(Iterators)</h2>
<p><a target="_blank" rel="noopener" href="https://www.w3school.com.cn/python/python_iterators.asp">python iterators | w3school</a></p>
<p><a target="_blank" rel="noopener" href="https://www.w3school.com.cn/python/ref_func_next.asp">python next() | w3school</a></p>
<p><a target="_blank" rel="noopener" href="https://www.w3school.com.cn/python/ref_func_iter.asp">python iter() | w3school</a></p>
<h2 id="Shallow-and-deep-copy">Shallow and deep copy</h2>
<ul>
<li>Documents<br>
<a target="_blank" rel="noopener" href="https://docs.python.org/3/library/copy.html">copy — Shallow and deep copy operations</a></li>
</ul>
<h2 id="面向对象">面向对象</h2>
<h3 id="类的方法">类的方法</h3>
<p>在类的内部，使用 def 关键字来定义一个方法，与一般函数定义不同，类方法<strong>必须包含参数 self, 且为第一个参数</strong>，self 代表的是类的实例</p>
   <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">People</span>:</span><br><span class="line">    <span class="comment"># 定义基本属性</span></span><br><span class="line">    name = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    age = <span class="number">0</span></span><br><span class="line">    <span class="comment"># 定义构造方法</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,n,a</span>):</span><br><span class="line">        self.name = n</span><br><span class="line">        self.age = a</span><br><span class="line">    <span class="comment"># 定义一个方法</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">speak</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;%s : %d&quot;</span> % (self.name, self.age))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建对象,调用方法</span></span><br><span class="line">p = People(<span class="string">&quot;Zhang&quot;</span>, <span class="number">18</span>)</span><br><span class="line">p.speak()</span><br></pre></td></tr></table></figure>
<h3 id="self代表什么">self代表什么</h3>
<p>类的方法与普通的函数只有一个特别的区别——它们必须有一个额外的<strong>第一个参数</strong>, 按照惯例它的名称是 self。self代表类所定义的实例, 而非类本身.</p>
<blockquote>
<p>Note: self并不是python关键词, 将其换成其它单词也是可以的, 只不过惯例用的是self.</p>
</blockquote>
<h3 id="构造方法">构造方法</h3>
<p>类有一个名为 <code>__init__()</code> 的特殊方法（<strong>构造方法</strong>），该方法在类实例化时会自动调用。每个类都会有一个默认的构造方法，即使没有定义也会有一个空的构造方法。一旦用户自定义了构造方法，默认的空的构造方法就会被覆盖。</p>
   <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Complex</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, realpart, imagpart</span>):</span><br><span class="line">        self.r = realpart</span><br><span class="line">        self.i = imagpart</span><br><span class="line"></span><br><span class="line">x = Complex(<span class="number">3.0</span>, -<span class="number">4.5</span>)</span><br><span class="line"><span class="built_in">print</span>(x.r, x.i)</span><br></pre></td></tr></table></figure>
<h3 id="单继承">单继承</h3>
<p><strong>子类</strong>(派生类, DerivedClass)会继承<strong>父类</strong>(基类, BaseClass)的属性和方法</p>
   <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#定义父类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Base</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        self.arg = <span class="number">0</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Base.__init__ is called.&quot;</span>)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">menthod</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Base.menthod is called.&quot;</span>)</span><br><span class="line"><span class="comment">#定义子类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DerivedClass</span>(<span class="title class_ inherited__">Base</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        Base.__init__(self)</span><br><span class="line"></span><br><span class="line">test = DerivedClass()</span><br><span class="line"><span class="comment">#输出 Base.__init__ is called.</span></span><br><span class="line">test.menthod()</span><br><span class="line"><span class="comment">#输出 Base.menthod is called.</span></span><br><span class="line"><span class="built_in">print</span>(test.arg)</span><br><span class="line"><span class="comment">#输出 0</span></span><br></pre></td></tr></table></figure>
<p>构造方法也同其它方法一样会被继承, 当子类没有特别定义构造方法时, 子类在创建实例(对象)时会默认调用父类的构造方法</p>
   <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#父类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Base</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Base.__init__ is called.&quot;</span>)</span><br><span class="line"><span class="comment">#子类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DerivedClass</span>(<span class="title class_ inherited__">Base</span>):</span><br><span class="line">    arg = <span class="number">1</span></span><br><span class="line"><span class="comment">#父类的构造方法被调用</span></span><br><span class="line">test = DerivedClass()</span><br><span class="line"><span class="comment">#输出 Base.__init__ is called.</span></span><br></pre></td></tr></table></figure>
<h3 id="多继承">多继承</h3>
<p>多继承的定义形式如下</p>
   <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">DerivedClassName</span>(Base1, Base2, Base3):</span><br><span class="line">    &lt;statement-<span class="number">1</span>&gt;</span><br><span class="line">    ...</span><br><span class="line">    &lt;statement-N&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Note: 需要注意圆括号中父类的顺序，若是父类中有相同的方法名，而在子类使用时未指定，python从左至右搜索 即方法在子类中未找到时，从左到右查找父类中是否包含方法</p>
</blockquote>
   <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 父类1</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Base1</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Base1.__init__ is called.&quot;</span>)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">menthod</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Base1.menthod is called.&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#父类2</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Base2</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Base2.__init__ is called.&quot;</span>)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">menthod</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Base2.menthod is called.&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#多继承</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DerivedClass</span>(Base1,Base2):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment">#调用父类的构造方法</span></span><br><span class="line">        Base1.__init__(self)</span><br><span class="line">        Base2.__init__(self)</span><br><span class="line"></span><br><span class="line">test = DerivedClass()</span><br><span class="line"><span class="comment">#输出</span></span><br><span class="line"><span class="comment">#Base1.__init__ is called.</span></span><br><span class="line"><span class="comment">#Base2.__init__ is called.</span></span><br><span class="line">test.menthod()</span><br><span class="line"><span class="comment">#输出</span></span><br><span class="line"><span class="comment">#Base1.menthod is called.</span></span><br></pre></td></tr></table></figure>
<h3 id="方法重写">方法重写</h3>
<p>如果你的父类方法的功能不能满足你的需求，你可以在子类重写你父类的方法，实例如下：</p>
   <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#定义父类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Base</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Base.__init__ is called.&quot;</span>)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">menthod</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Base.menthod is called.&quot;</span>)</span><br><span class="line"><span class="comment">#定义子类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DerivedClass</span>(<span class="title class_ inherited__">Base</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        Base.__init__(self)</span><br><span class="line">    <span class="comment">#重写父类的menthod方法</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">menthod</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;menthod is overwrited.&quot;</span>)</span><br><span class="line"></span><br><span class="line">test = DerivedClass()</span><br><span class="line"><span class="comment">#输出 Base.__init__ is called.</span></span><br><span class="line">test.menthod()</span><br><span class="line"><span class="comment">#输出 menthod is overwrited.</span></span><br></pre></td></tr></table></figure>
<h3 id="私有">私有</h3>
<p>方法名为<strong>双下划线开头</strong>的方法为私有方法; 属性名为<strong>双下划线开头</strong>的属性为私有属性.</p>
<p>私有方法和私有属性不能在类外被直接调用或访问, 只能在类内被调用和访问. 需要在类外访问私有属性和调用私有方法时, 只能通过类的&quot;接口&quot;间接地调用.</p>
   <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Base</span>():</span><br><span class="line">    __arg = <span class="number">0</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__menthod</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;private __menthod is called.&quot;</span>)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">menthod</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># print(&quot;menthod&quot;)</span></span><br><span class="line">        self.__menthod()</span><br><span class="line">        <span class="built_in">print</span>(self.__arg)</span><br><span class="line"></span><br><span class="line">test = Base()</span><br><span class="line"><span class="comment">#不能直接访问私有属性</span></span><br><span class="line">test.__arg</span><br><span class="line"><span class="comment">#Error</span></span><br><span class="line"><span class="comment">#AttributeError: &#x27;Base&#x27; object has no attribute &#x27;__arg&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#不能直接调用私有方法</span></span><br><span class="line">test.__menthod()</span><br><span class="line"><span class="comment">#Error</span></span><br><span class="line"><span class="comment">#AttributeError: &#x27;Base&#x27; object has no attribute &#x27;__menthod&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#通过接口类外间接访问私有属性和方法</span></span><br><span class="line">test.menthod()</span><br><span class="line"><span class="comment">#输出</span></span><br><span class="line"><span class="comment">#private __menthod is called.</span></span><br><span class="line"><span class="comment">#0</span></span><br></pre></td></tr></table></figure>
<h3 id="关于super">关于super</h3>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/wanzew/article/details/106993425">Python super() 详解 最简单的解释</a></p>
<h3 id="关于call">关于call</h3>
<h2 id="装饰器-Decorators">装饰器(Decorators)</h2>
<p><a target="_blank" rel="noopener" href="https://www.runoob.com/w3cnote/python-func-decorators.html">python decorators | Runoob</a></p>
<p><a target="_blank" rel="noopener" href="https://www.liaoxuefeng.com/wiki/1016959663602400/1017451662295584">装饰器 | 廖雪峰</a></p>
<p><a target="_blank" rel="noopener" href="https://www.liaoxuefeng.com/wiki/1016959663602400/1017502538658208">使用@property | 廖雪峰</a></p>
<p>装饰器是一种特殊的函数, 它的输入是<strong>函数对象</strong>, 并且返回一个<strong>函数对象</strong></p>
<h3 id="一个简单的例子">一个简单的例子</h3>
<p>定义一个简单的装饰器如下, 这个装饰器返回输入的函数对象, 并在返回之前<code>print</code>了一句说明.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">decorator1</span>(<span class="params">func</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;There is a simple decorator.&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> func</span><br></pre></td></tr></table></figure>
<p>使用<code>@</code>符号来调用装饰器, 对上面所定义的简单装饰器进行调用如下</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@decorator1</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">show</span>(<span class="params">s</span>):</span><br><span class="line">    <span class="built_in">print</span>(s)</span><br></pre></td></tr></table></figure>
<p>这样做相当于进行了如下过程</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="normal">s</mi><mi mathvariant="normal">h</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">w</mi><mo>=</mo><mi mathvariant="normal">d</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">c</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">r</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">t</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">r</mi><mn>1</mn><mo stretchy="false">(</mo><mi mathvariant="normal">s</mi><mi mathvariant="normal">h</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">w</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\rm show = decorator1(show)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathrm" style="margin-right:0.01389em;">show</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathrm">decorator1</span><span class="mopen">(</span><span class="mord mathrm" style="margin-right:0.01389em;">show</span><span class="mclose">)</span></span></span></span></span></span></p>
<p><code>show</code> 作为一个函数对象传入 <code>decorator1</code> , <code>decorator1</code> 对 <code>show</code> 进行了一系列操作(进行了<code>print</code>输出)后返回 <code>show</code>. 虽然还是同名为 <code>show</code> , 但是所指向的函数对象不一样了.</p>
<p>对经过 <code>decorator1</code> 修饰后的 <code>show</code> 进行调用 <code>show(&quot;abc&quot;)</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#输出 show(&quot;abc&quot;)</span></span><br><span class="line">There <span class="keyword">is</span> a simple decorator.</span><br><span class="line">abc</span><br></pre></td></tr></table></figure>
<p>此时的 <code>show(&quot;abc&quot;)</code> 相当于进行了如下操作, 其中<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mrow><mi mathvariant="normal">s</mi><mi mathvariant="normal">h</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">w</mi></mrow><mo>^</mo></mover></mrow><annotation encoding="application/x-tex">\hat{\rm show}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9579em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9579em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathrm" style="margin-right:0.01389em;">show</span></span></span><span style="top:-3.2634em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span></span></span></span>是经过<code>decorator1</code>修饰后的函数, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">s</mi><mi mathvariant="normal">h</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">w</mi></mrow><annotation encoding="application/x-tex">\rm show</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord"><span class="mord mathrm" style="margin-right:0.01389em;">show</span></span></span></span></span>表示原函数.</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mover accent="true"><mrow><mi mathvariant="normal">s</mi><mi mathvariant="normal">h</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">w</mi></mrow><mo>^</mo></mover><mo stretchy="false">(</mo><mstyle mathcolor="green"><mtext>“abc&quot;</mtext></mstyle><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mrow><mo>=</mo><munder accentunder="true"><mrow><mi mathvariant="normal">d</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">c</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">r</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">t</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">r</mi><mn>1</mn><mo stretchy="false">(</mo><mi mathvariant="normal">s</mi><mi mathvariant="normal">h</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">w</mi><mo stretchy="false">)</mo></mrow><mo stretchy="true">‾</mo></munder><mo stretchy="false">(</mo><mstyle mathcolor="green"><mtext>“abc&quot;</mtext></mstyle><mo stretchy="false">)</mo></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mrow><mo>=</mo><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="false"><mtable rowspacing="0.16em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⋯</mo></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mstyle mathcolor="purple"><mrow><mi mathvariant="normal">r</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">t</mi><mi mathvariant="normal">u</mi><mi mathvariant="normal">r</mi><mi mathvariant="normal">n</mi></mrow></mstyle><mtext> </mtext><mrow><mi mathvariant="normal">s</mi><mi mathvariant="normal">h</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">w</mi></mrow></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></menclose><mo stretchy="false">(</mo><mstyle mathcolor="green"><mtext>“abc&quot;</mtext></mstyle><mo stretchy="false">)</mo></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mrow><mo>=</mo><mo stretchy="false">{</mo><mo>⋯</mo><mtext> </mtext><mo stretchy="false">}</mo><mo>+</mo><mi mathvariant="normal">s</mi><mi mathvariant="normal">h</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">w</mi><mo stretchy="false">(</mo><mstyle mathcolor="green"><mtext>“abc&quot;</mtext></mstyle><mo stretchy="false">)</mo></mrow></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{split}
\rm \hat{show}(\textcolor{green}{\text{``abc&quot;}})
&amp;\rm = \underline{decorator1(show)}(\textcolor{green}{\text{``abc&quot;}})\\
&amp;\rm = \fbox{$\begin{array}{l}\cdots\\ \textcolor{purple}{\rm return}\,\rm show \end{array}$}(\textcolor{green}{\text{``abc&quot;}})\\
&amp;\rm = \{\cdots\}+ show(\textcolor{green}{\text{``abc&quot;}})
\end{split}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:6.5879em;vertical-align:-3.0439em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.5439em;"><span style="top:-6.3761em;"><span class="pstrut" style="height:3.79em;"></span><span class="mord"><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9579em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathrm" style="margin-right:0.01389em;">show</span></span></span><span style="top:-3.2634em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord mathrm">^</span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord text" style="color:green;"><span class="mord" style="color:green;">“abc&quot;</span></span><span class="mclose">)</span></span></span></span><span style="top:-3.8361em;"><span class="pstrut" style="height:3.79em;"></span><span class="mord"></span></span><span style="top:-1.4061em;"><span class="pstrut" style="height:3.79em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.0439em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.5439em;"><span style="top:-6.3761em;"><span class="pstrut" style="height:3.79em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathrm">decorator1</span><span class="mopen">(</span><span class="mord mathrm" style="margin-right:0.01389em;">show</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord text" style="color:green;"><span class="mord" style="color:green;">“abc&quot;</span></span><span class="mclose">)</span></span></span></span><span style="top:-3.8361em;"><span class="pstrut" style="height:3.79em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.79em;"><span style="top:-5.08em;"><span class="pstrut" style="height:5.08em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner">⋯</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="color:purple;"><span class="mord mathrm" style="color:purple;">return</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathrm" style="margin-right:0.01389em;">show</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span></span></span></span><span style="top:-3.79em;"><span class="pstrut" style="height:5.08em;"></span><span class="stretchy fbox" style="height:3.08em;border-style:solid;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.29em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord text" style="color:green;"><span class="mord" style="color:green;">“abc&quot;</span></span><span class="mclose">)</span></span></span></span><span style="top:-1.4061em;"><span class="pstrut" style="height:3.79em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">{</span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mclose">}</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathrm" style="margin-right:0.01389em;">show</span><span class="mopen">(</span><span class="mord text" style="color:green;"><span class="mord" style="color:green;">“abc&quot;</span></span><span class="mclose">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.0439em;"><span></span></span></span></span></span></span></span></span></span></span></span></p>
<h3 id="一个略微复杂的例子">一个略微复杂的例子</h3>
<p>下面的装饰器的定义中额外定义了一个函数对象 <code>wrapper</code> , 装饰器返回这个<code>wrapper</code>函数对象</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">decorator2</span>(<span class="params">func</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;decorator&quot;</span>)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">wrapper</span>(<span class="params">*args, **keys</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;wrapper&quot;</span>)</span><br><span class="line">        func(*args, **keys)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br></pre></td></tr></table></figure>
<p>对这个例子进行简单调用</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@decorator2</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">show</span>(<span class="params">s</span>):</span><br><span class="line">    <span class="built_in">print</span>(s)</span><br></pre></td></tr></table></figure>
<p>输出<code>show(&quot;abc&quot;)</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">decorator</span><br><span class="line">wrapper</span><br><span class="line">abc</span><br></pre></td></tr></table></figure>
<p>对<code>decorator2</code>修饰的函数进行调用相当于进行了如下操作</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mover accent="true"><mrow><mi mathvariant="normal">s</mi><mi mathvariant="normal">h</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">w</mi></mrow><mo>^</mo></mover><mo stretchy="false">(</mo><mstyle mathcolor="green"><mtext>“abc&quot;</mtext></mstyle><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mrow><mo>=</mo><munder accentunder="true"><mrow><mi mathvariant="normal">d</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">c</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">r</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">t</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">r</mi><mn>2</mn><mo stretchy="false">(</mo><mi mathvariant="normal">s</mi><mi mathvariant="normal">h</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">w</mi><mo stretchy="false">)</mo></mrow><mo stretchy="true">‾</mo></munder><mo stretchy="false">(</mo><mstyle mathcolor="green"><mtext>“abc&quot;</mtext></mstyle><mo stretchy="false">)</mo></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mrow><mo>=</mo><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="false"><mtable rowspacing="0.16em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⋯</mo></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="false"><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mstyle mathcolor="purple"><mrow><mi mathvariant="normal">d</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">f</mi></mrow></mstyle><mtext> </mtext><mrow><mi mathvariant="normal">w</mi><mi mathvariant="normal">r</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">p</mi><mi mathvariant="normal">p</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">r</mi><mo stretchy="false">(</mo><mo>∗</mo><mi mathvariant="normal">a</mi><mi mathvariant="normal">r</mi><mi mathvariant="normal">g</mi><mi mathvariant="normal">s</mi><mo stretchy="false">)</mo></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⋯</mo></mstyle></mtd></mtr></mtable></mstyle></mstyle></menclose></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mstyle mathcolor="purple"><mrow><mi mathvariant="normal">r</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">t</mi><mi mathvariant="normal">u</mi><mi mathvariant="normal">r</mi><mi mathvariant="normal">n</mi></mrow></mstyle><mtext> </mtext><mrow><mi mathvariant="normal">w</mi><mi mathvariant="normal">r</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">p</mi><mi mathvariant="normal">p</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">r</mi></mrow></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></menclose><mo stretchy="false">(</mo><mstyle mathcolor="green"><mtext>“abc&quot;</mtext></mstyle><mo stretchy="false">)</mo></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mrow><mo>=</mo><mo stretchy="false">{</mo><mo>⋯</mo><mtext> </mtext><mo stretchy="false">}</mo><mo>+</mo><mi mathvariant="normal">w</mi><mi mathvariant="normal">r</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">p</mi><mi mathvariant="normal">p</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">r</mi><mo stretchy="false">(</mo><mstyle mathcolor="green"><mtext>“abc&quot;</mtext></mstyle><mo stretchy="false">)</mo></mrow></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{split}
\rm \hat{show}(\textcolor{green}{\text{``abc&quot;}})
&amp;\rm = \underline{decorator2(show)}(\textcolor{green}{\text{``abc&quot;}})\\
&amp;\rm =
\fbox{$
\begin{array}{l}
\cdots\\
\fbox{$\begin{array}{c}\textcolor{purple}{\rm def}\, \rm{wrapper(*args)}\\ \cdots\end{array}$}
\\
\textcolor{purple}{\rm return}\,\rm{wrapper}
\end{array}
$}
(\textcolor{green}{\text{``abc&quot;}})\\
&amp;\rm = \{\cdots\}+ wrapper(\textcolor{green}{\text{``abc&quot;}})
\end{split}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:9.6679em;vertical-align:-4.5839em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:5.0839em;"><span style="top:-9.4561em;"><span class="pstrut" style="height:5.33em;"></span><span class="mord"><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9579em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathrm" style="margin-right:0.01389em;">show</span></span></span><span style="top:-3.2634em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord mathrm">^</span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord text" style="color:green;"><span class="mord" style="color:green;">“abc&quot;</span></span><span class="mclose">)</span></span></span></span><span style="top:-5.3761em;"><span class="pstrut" style="height:5.33em;"></span><span class="mord"></span></span><span style="top:-1.4061em;"><span class="pstrut" style="height:5.33em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:4.5839em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:5.0839em;"><span style="top:-9.4561em;"><span class="pstrut" style="height:5.33em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathrm">decorator2</span><span class="mopen">(</span><span class="mord mathrm" style="margin-right:0.01389em;">show</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord text" style="color:green;"><span class="mord" style="color:green;">“abc&quot;</span></span><span class="mclose">)</span></span></span></span><span style="top:-5.3761em;"><span class="pstrut" style="height:5.33em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.33em;"><span style="top:-8.16em;"><span class="pstrut" style="height:8.16em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.99em;"><span style="top:-5.94em;"><span class="pstrut" style="height:3.79em;"></span><span class="mord"><span class="minner">⋯</span></span></span><span style="top:-3.79em;"><span class="pstrut" style="height:3.79em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.79em;"><span style="top:-5.08em;"><span class="pstrut" style="height:5.08em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="color:purple;"><span class="mord mathrm" style="margin-right:0.07778em;color:purple;">def</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">wrapper</span><span class="mopen">(</span><span class="mord">∗</span><span class="mord mathrm">args</span><span class="mclose">)</span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner">⋯</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span></span></span></span><span style="top:-3.79em;"><span class="pstrut" style="height:5.08em;"></span><span class="stretchy fbox" style="height:3.08em;border-style:solid;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.29em;"><span></span></span></span></span></span></span></span><span style="top:-1.66em;"><span class="pstrut" style="height:3.79em;"></span><span class="mord"><span class="mord" style="color:purple;"><span class="mord mathrm" style="color:purple;">return</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">wrapper</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.49em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span></span></span></span><span style="top:-5.33em;"><span class="pstrut" style="height:8.16em;"></span><span class="stretchy fbox" style="height:6.16em;border-style:solid;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.83em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord text" style="color:green;"><span class="mord" style="color:green;">“abc&quot;</span></span><span class="mclose">)</span></span></span></span><span style="top:-1.4061em;"><span class="pstrut" style="height:5.33em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">{</span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mclose">}</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathrm">wrapper</span><span class="mopen">(</span><span class="mord text" style="color:green;"><span class="mord" style="color:green;">“abc&quot;</span></span><span class="mclose">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:4.5839em;"><span></span></span></span></span></span></span></span></span></span></span></span></p>
<h3 id="functools-wraps-func">@functools.wraps(func)</h3>
<p>注意在上面的第2个示例中, 输出 <code>show.__name__</code> 得到的结果是 <code>wrapper</code>. 因为虽然变量名字是 <code>show</code> , 但是实际指向的函数对象是在<code>decorator2</code>中定义的 <code>wrapper</code>.</p>
<p>使用<code>functools</code>工具包中的<code>wraps</code>装饰器可以避免这个现象</p>
<p>在<code>wrapper</code>的定义前加上<code>@functools.wraps(func)</code>即可</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> functools</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">decorator2</span>(<span class="params">func</span>):</span><br><span class="line">    ...</span><br><span class="line"><span class="meta">    @functools.wraps(<span class="params">func</span>)</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">wrapper</span>(<span class="params">*args, **keys</span>):</span><br><span class="line">        ...</span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br></pre></td></tr></table></figure>
<h3 id="如何给装饰器传入参数">如何给装饰器传入参数</h3>
<p>当需要给装饰器传入参数的时候需要额外的嵌套一层函数用于传入装饰器的参数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">decorator3_with_args</span>(<span class="params">*decorator_args</span>):</span><br><span class="line">    <span class="built_in">print</span>(*decorator_args) <span class="comment">#输出装饰器的参数</span></span><br><span class="line">    <span class="comment">#在传参函数的内部再定义一个装饰器decorator3</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">decorator3</span>(<span class="params">func</span>):  </span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;we are in decorator.&quot;</span>)</span><br><span class="line">        <span class="comment">#在装饰器内部定义一个新的函数对象,作为装饰器的返回对象</span></span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">wrapper</span>(<span class="params">*wrapper_args</span>):</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;we are in wrapper.&quot;</span>)</span><br><span class="line">            func(*wrapper_args)</span><br><span class="line">        <span class="keyword">return</span> wrapper</span><br><span class="line">    <span class="keyword">return</span> decorator3</span><br></pre></td></tr></table></figure>
<p>对上述定义的装饰器进行调用</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@decorator3_with_args(<span class="params"><span class="string">&quot;decorator&#x27;s args&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">show</span>(<span class="params">s</span>):</span><br><span class="line">    <span class="built_in">print</span>(s)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#输出 show(&quot;show&#x27;s args&quot;)</span></span><br><span class="line">decorato<span class="string">r&#x27;s args</span></span><br><span class="line"><span class="string">we are in decorator.</span></span><br><span class="line"><span class="string">we are in wrapper.</span></span><br><span class="line"><span class="string">show&#x27;</span>s args</span><br></pre></td></tr></table></figure>
<p>这个例子的结构图可以如下表示</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mover accent="true"><mrow><mi mathvariant="normal">s</mi><mi mathvariant="normal">h</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">w</mi></mrow><mo>^</mo></mover><mo stretchy="false">(</mo><mstyle mathcolor="green"><mtext>“fun’s args&quot;</mtext></mstyle><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mrow><mo>=</mo><munder accentunder="true"><mrow><mi mathvariant="normal">d</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">c</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">r</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">t</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">r</mi><mn>3</mn><mi mathvariant="normal">_</mi><mi mathvariant="normal">w</mi><mi mathvariant="normal">i</mi><mi mathvariant="normal">t</mi><mi mathvariant="normal">h</mi><mi mathvariant="normal">_</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">r</mi><mi mathvariant="normal">g</mi><mi mathvariant="normal">s</mi><mo stretchy="false">(</mo><mstyle mathcolor="green"><mtext>“dec’s args&quot;</mtext></mstyle><mo stretchy="false">)</mo></mrow><mo stretchy="true">‾</mo></munder><mo stretchy="false">(</mo><mi mathvariant="normal">s</mi><mi mathvariant="normal">h</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">w</mi><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mstyle mathcolor="green"><mtext>“fun’s args&quot;</mtext></mstyle><mo stretchy="false">)</mo></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mrow><mo>=</mo><munder accentunder="true"><mrow><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="false"><mtable rowspacing="0.16em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⋯</mo></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mstyle mathcolor="purple"><mrow><mi mathvariant="normal">r</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">t</mi><mi mathvariant="normal">u</mi><mi mathvariant="normal">r</mi><mi mathvariant="normal">n</mi></mrow></mstyle><mtext> </mtext><mrow><mi mathvariant="normal">d</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">c</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">r</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">t</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">r</mi><mn>3</mn></mrow></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></menclose><mo stretchy="false">(</mo><mi mathvariant="normal">s</mi><mi mathvariant="normal">h</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">w</mi><mo stretchy="false">)</mo></mrow><mo stretchy="true">‾</mo></munder><mo stretchy="false">(</mo><mstyle mathcolor="green"><mtext>“fun’s args&quot;</mtext></mstyle><mo stretchy="false">)</mo></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mrow><mo>=</mo><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="false"><mtable rowspacing="0.16em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⋯</mo></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="false"><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mstyle mathcolor="purple"><mrow><mi mathvariant="normal">d</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">f</mi></mrow></mstyle><mtext> </mtext><mrow><mi mathvariant="normal">w</mi><mi mathvariant="normal">r</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">p</mi><mi mathvariant="normal">p</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">r</mi><mo stretchy="false">(</mo><mo>∗</mo><mi mathvariant="normal">a</mi><mi mathvariant="normal">r</mi><mi mathvariant="normal">g</mi><mi mathvariant="normal">s</mi><mo stretchy="false">)</mo></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⋯</mo></mstyle></mtd></mtr></mtable></mstyle></mstyle></menclose></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mstyle mathcolor="purple"><mrow><mi mathvariant="normal">r</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">t</mi><mi mathvariant="normal">u</mi><mi mathvariant="normal">r</mi><mi mathvariant="normal">n</mi></mrow></mstyle><mtext> </mtext><mrow><mi mathvariant="normal">w</mi><mi mathvariant="normal">r</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">p</mi><mi mathvariant="normal">p</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">r</mi></mrow></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></menclose><mo stretchy="false">(</mo><mstyle mathcolor="green"><mtext>“fun’s args&quot;</mtext></mstyle><mo stretchy="false">)</mo></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mrow><mo>=</mo><mo stretchy="false">{</mo><mo>⋯</mo><mtext> </mtext><mo stretchy="false">}</mo><mo>+</mo><mi mathvariant="normal">w</mi><mi mathvariant="normal">r</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">p</mi><mi mathvariant="normal">p</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">r</mi><mo stretchy="false">(</mo><mstyle mathcolor="green"><mtext>“fun’s args&quot;</mtext></mstyle><mo stretchy="false">)</mo></mrow></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{split}
\rm \hat{show}(\textcolor{green}{\text{``fun&#x27;s args&quot;}})
&amp;\rm = \underline{decorator3\_with\_args(\textcolor{green}{\text{``dec&#x27;s args&quot;}})}(show)(\textcolor{green}{\text{``fun&#x27;s args&quot;}})\\
&amp;\rm = \underline{\fbox{$\begin{array}{l}\cdots\\ \textcolor{purple}{\rm return}\,\rm decorator3\end{array}$}(show)}(\textcolor{green}{\text{``fun&#x27;s args&quot;}})\\
&amp;\rm =
\fbox{$
\begin{array}{l}
\cdots\\
\fbox{$\begin{array}{c}\textcolor{purple}{\rm def}\, \rm{wrapper(*args)}\\ \cdots\end{array}$}
\\
\textcolor{purple}{\rm return}\,\rm{wrapper}
\end{array}
$}
(\textcolor{green}{\text{``fun&#x27;s args&quot;}})\\
&amp;\rm = \{\cdots\}+ wrapper(\textcolor{green}{\text{``fun&#x27;s args&quot;}})
\end{split}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:13.3079em;vertical-align:-6.4039em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:6.9039em;"><span style="top:-11.2761em;"><span class="pstrut" style="height:5.33em;"></span><span class="mord"><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9579em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathrm" style="margin-right:0.01389em;">show</span></span></span><span style="top:-3.2634em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord mathrm">^</span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord text" style="color:green;"><span class="mord" style="color:green;">“fun’s args&quot;</span></span><span class="mclose">)</span></span></span></span><span style="top:-8.6761em;"><span class="pstrut" style="height:5.33em;"></span><span class="mord"></span></span><span style="top:-3.5561em;"><span class="pstrut" style="height:5.33em;"></span><span class="mord"></span></span><span style="top:0.4139em;"><span class="pstrut" style="height:5.33em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:6.4039em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:6.9039em;"><span style="top:-11.2761em;"><span class="pstrut" style="height:5.33em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.53em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathrm">decorator3_with_args</span><span class="mopen">(</span><span class="mord text" style="color:green;"><span class="mord" style="color:green;">“dec’s args&quot;</span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.51em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathrm" style="margin-right:0.01389em;">show</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord text" style="color:green;"><span class="mord" style="color:green;">“fun’s args&quot;</span></span><span class="mclose">)</span></span></span></span><span style="top:-8.6761em;"><span class="pstrut" style="height:5.33em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.79em;"><span style="top:-2.34em;"><span class="pstrut" style="height:3.79em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.79em;"><span class="pstrut" style="height:3.79em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.79em;"><span style="top:-5.08em;"><span class="pstrut" style="height:5.08em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner">⋯</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="color:purple;"><span class="mord mathrm" style="color:purple;">return</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathrm">decorator3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span></span></span></span><span style="top:-3.79em;"><span class="pstrut" style="height:5.08em;"></span><span class="stretchy fbox" style="height:3.08em;border-style:solid;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.29em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathrm" style="margin-right:0.01389em;">show</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.49em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord text" style="color:green;"><span class="mord" style="color:green;">“fun’s args&quot;</span></span><span class="mclose">)</span></span></span></span><span style="top:-3.5561em;"><span class="pstrut" style="height:5.33em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.33em;"><span style="top:-8.16em;"><span class="pstrut" style="height:8.16em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.99em;"><span style="top:-5.94em;"><span class="pstrut" style="height:3.79em;"></span><span class="mord"><span class="minner">⋯</span></span></span><span style="top:-3.79em;"><span class="pstrut" style="height:3.79em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.79em;"><span style="top:-5.08em;"><span class="pstrut" style="height:5.08em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="color:purple;"><span class="mord mathrm" style="margin-right:0.07778em;color:purple;">def</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">wrapper</span><span class="mopen">(</span><span class="mord">∗</span><span class="mord mathrm">args</span><span class="mclose">)</span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner">⋯</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span></span></span></span><span style="top:-3.79em;"><span class="pstrut" style="height:5.08em;"></span><span class="stretchy fbox" style="height:3.08em;border-style:solid;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.29em;"><span></span></span></span></span></span></span></span><span style="top:-1.66em;"><span class="pstrut" style="height:3.79em;"></span><span class="mord"><span class="mord" style="color:purple;"><span class="mord mathrm" style="color:purple;">return</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">wrapper</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.49em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span></span></span></span><span style="top:-5.33em;"><span class="pstrut" style="height:8.16em;"></span><span class="stretchy fbox" style="height:6.16em;border-style:solid;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.83em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord text" style="color:green;"><span class="mord" style="color:green;">“fun’s args&quot;</span></span><span class="mclose">)</span></span></span></span><span style="top:0.4139em;"><span class="pstrut" style="height:5.33em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">{</span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mclose">}</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathrm">wrapper</span><span class="mopen">(</span><span class="mord text" style="color:green;"><span class="mord" style="color:green;">“fun’s args&quot;</span></span><span class="mclose">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:6.4039em;"><span></span></span></span></span></span></span></span></span></span></span></span></p>
<h2 id="List-列表">List(列表)</h2>
<ul>
<li>列表可以被索引和截取，列表被截取后返回一个包含所截取元素的新列表</li>
<li>列表截取的语法格式如下：</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">变量[头下标:尾下标:步长]</span><br><span class="line"><span class="comment"># 注意: 尾下标不被截取 (下图的蓝色和紫色线的尾点是空心的)</span></span><br></pre></td></tr></table></figure>
<p><img src="https://xiaophai-typora.oss-cn-shanghai.aliyuncs.com/list_slicing1_new2.png" alt="list_slicing1_new2"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">L = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>]</span><br><span class="line"><span class="comment">#idx: 0    1    2    3    4</span></span><br><span class="line"><span class="comment">#idx:-5   -4   -3   -2   -1</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(L[<span class="number">5</span>])     <span class="comment"># IndexError: list index out of range</span></span><br><span class="line"><span class="built_in">print</span>(L[-<span class="number">6</span>])    <span class="comment"># IndexError: list index out of range</span></span><br><span class="line"><span class="comment"># -----------------------------------------------------</span></span><br><span class="line"><span class="built_in">print</span>(L[:<span class="number">0</span>])      <span class="comment"># []</span></span><br><span class="line"><span class="built_in">print</span>(L[:<span class="number">1</span>])      <span class="comment"># [&#x27;a&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(L[:<span class="number">4</span>])      <span class="comment"># [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(L[:<span class="number">5</span>])      <span class="comment"># [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;, &#x27;e&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(L[:<span class="number">6</span>])      <span class="comment"># [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;, &#x27;e&#x27;]</span></span><br><span class="line"><span class="comment"># -----------------------------------------------------</span></span><br><span class="line"><span class="built_in">print</span>(L[:])       <span class="comment"># [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;, &#x27;e&#x27;]</span></span><br><span class="line"><span class="comment"># -----------------------------------------------------</span></span><br><span class="line"><span class="built_in">print</span>(L[:-<span class="number">1</span>])     <span class="comment"># [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(L[:-<span class="number">2</span>])     <span class="comment"># [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(L[:-<span class="number">3</span>])     <span class="comment"># [&#x27;a&#x27;, &#x27;b&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(L[:-<span class="number">4</span>])     <span class="comment"># [&#x27;a&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(L[:-<span class="number">5</span>])     <span class="comment"># []</span></span><br><span class="line"><span class="built_in">print</span>(L[:-<span class="number">6</span>])     <span class="comment"># []</span></span><br><span class="line"><span class="comment"># -----------------------------------------------------</span></span><br><span class="line"><span class="built_in">print</span>(L[<span class="number">0</span>:<span class="number">0</span>])     <span class="comment"># []</span></span><br><span class="line"><span class="built_in">print</span>(L[<span class="number">0</span>:<span class="number">1</span>])     <span class="comment"># [&#x27;a&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(L[<span class="number">0</span>:<span class="number">5</span>])     <span class="comment"># [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;, &#x27;e&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(L[<span class="number">0</span>:<span class="number">6</span>])     <span class="comment"># [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;, &#x27;e&#x27;]</span></span><br><span class="line"><span class="comment"># -----------------------------------------------------</span></span><br><span class="line"><span class="built_in">print</span>(L[<span class="number">0</span>:])      <span class="comment"># [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;, &#x27;e&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(L[<span class="number">1</span>:])      <span class="comment">#      [&#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;, &#x27;e&#x27;]</span></span><br><span class="line"><span class="comment"># -----------------------------------------------------</span></span><br><span class="line"><span class="built_in">print</span>(L[-<span class="number">1</span>:])     <span class="comment">#                     [&#x27;e&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(L[-<span class="number">2</span>:])     <span class="comment">#                [&#x27;d&#x27;, &#x27;e&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(L[-<span class="number">1</span>:<span class="number">0</span>])    <span class="comment"># []</span></span><br><span class="line"><span class="built_in">print</span>(L[-<span class="number">2</span>:<span class="number">0</span>])    <span class="comment"># []</span></span><br><span class="line"><span class="comment"># -----------------------------------------------------</span></span><br><span class="line"><span class="built_in">print</span>(L[<span class="number">0</span>:<span class="number">4</span>:<span class="number">2</span>])   <span class="comment"># [&#x27;a&#x27;, &#x27;c&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(L[<span class="number">0</span>:<span class="number">5</span>:<span class="number">2</span>])   <span class="comment"># [&#x27;a&#x27;, &#x27;c&#x27;, &#x27;e&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(L[<span class="number">0</span>:<span class="number">6</span>:<span class="number">2</span>])   <span class="comment"># [&#x27;a&#x27;, &#x27;c&#x27;, &#x27;e&#x27;]</span></span><br><span class="line"><span class="comment"># -----------------------------------------------------</span></span><br><span class="line"><span class="built_in">print</span>(L[::-<span class="number">1</span>])    <span class="comment"># [&#x27;e&#x27;, &#x27;d&#x27;, &#x27;c&#x27;, &#x27;b&#x27;, &#x27;a&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(L[<span class="number">4</span>:<span class="number">0</span>:-<span class="number">1</span>])  <span class="comment"># [&#x27;e&#x27;, &#x27;d&#x27;, &#x27;c&#x27;, &#x27;b&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(L[<span class="number">4</span>:-<span class="number">1</span>:-<span class="number">1</span>]) <span class="comment"># []</span></span><br><span class="line"><span class="built_in">print</span>(L[<span class="number">4</span>:-<span class="number">2</span>:-<span class="number">1</span>]) <span class="comment"># [&#x27;e&#x27;]</span></span><br></pre></td></tr></table></figure>
<h2 id="random">random</h2>
<p><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/random.html#random.choice">random.choice</a><br>
<a target="_blank" rel="noopener" href="https://docs.python.org/3/library/random.html#random.choices">random.choices</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> torchvision <span class="keyword">import</span> datasets</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"><span class="comment"># loading data</span></span><br><span class="line">trainset = datasets.MNIST(root=<span class="string">&quot;dataset/&quot;</span>, train=<span class="literal">True</span>, download=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># random choice</span></span><br><span class="line">data = random.choice(trainset)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(data)) <span class="comment"># &lt;class &#x27;tuple&#x27;&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># random choices</span></span><br><span class="line">datas = random.choices(trainset, k=<span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(datas)) <span class="comment"># &lt;class &#x27;list&#x27;&gt; </span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(datas[<span class="number">0</span>])) <span class="comment"># &lt;class &#x27;tuple&#x27;&gt;</span></span><br><span class="line"></span><br><span class="line">trainloader = DataLoader(dataset=trainset, batch_size=<span class="number">16</span>)</span><br><span class="line">loader = random.choice(trainloader)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">TypeError: &#x27;DataLoader&#x27; object is not subscriptable</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<h2 id="os">os</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">os.path.listdir()</span><br><span class="line">os.path.join()</span><br><span class="line">os.path.isdir()</span><br></pre></td></tr></table></figure>
<h3 id="os-path">os.path</h3>
<p><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/os.path.html">os.path | python docs</a></p>
<p><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/os.path.html#os.path.basename">os.path.basename | python docs</a></p>
<p>In Python, use the <code>os.path.exists()</code> method to see if a directory already exists, and then use the <code>os.makedirs()</code> method to create it.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(path_str):</span><br><span class="line">    os.makedirs(path_str)</span><br></pre></td></tr></table></figure>
<h2 id="sys">sys</h2>
<p>How to get python version numbers?</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(sys.version_info.major) <span class="comment"># 3 in my case</span></span><br><span class="line"><span class="built_in">print</span>(sys.version_info.minor) <span class="comment"># 8 in my case</span></span><br></pre></td></tr></table></figure>
<h2 id="glob">glob</h2>
<p><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/glob.html">glob | python docs</a></p>
<h2 id="Relative-path">Relative path</h2>
<p>Relative paths are relative to the <strong>working directory</strong>, not where the Python file is.</p>
<blockquote>
<p>The working directory is the root of your <strong>terminal</strong> that runs your code with command <code>(conda_env) Path\to\cwd&gt;python code.py</code></p>
</blockquote>
<p>The <code>getcwd()</code> function from the os module fetches the current working directory location. The function returns the full path starting from the root directory to the current working directory.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="built_in">print</span>(os.getcwd())</span><br></pre></td></tr></table></figure>
<p>You can change the working directory using the <code>os.chdir(&lt;path&gt;)</code> method, and you can test whether a path, either directory, or file, exists using the <code>os.path.exists(&lt;path&gt;)</code> method.</p>
<p>Sub folder keeps the same working directory as main.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Folder Structure:</span></span><br><span class="line">test.py</span><br><span class="line">package</span><br><span class="line">├── __init__.py</span><br><span class="line">└── module.py : <span class="keyword">import</span> os</span><br><span class="line">                <span class="keyword">def</span> <span class="title function_">returncwd</span>(): <span class="keyword">return</span> os.getcwd()</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># D:\Code\Python\test.py</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="built_in">print</span>(os.getcwd())</span><br><span class="line"><span class="comment"># D:\Code\Python</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> package.module <span class="keyword">import</span> returncwd</span><br><span class="line"><span class="built_in">print</span>(returncwd())</span><br><span class="line"><span class="comment"># D:\Code\Python</span></span><br><span class="line"><span class="comment"># Note: it is ~\Pthon not ~\Python\package</span></span><br></pre></td></tr></table></figure>
<p>When debug in vscode, you can change the cwd by modifing the launch.json file</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.2.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;configurations&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Debug test&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;python&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;request&quot;</span><span class="punctuation">:</span> <span class="string">&quot;launch&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;program&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;workspaceFolder&#125;/test.py&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;console&quot;</span><span class="punctuation">:</span> <span class="string">&quot;integratedTerminal&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;cwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;workspaceFolder&#125;/package&quot;</span><span class="punctuation">,</span> <span class="comment">// &lt;-- change your cwd to the path that you</span></span><br><span class="line">                                           <span class="comment">// want your relative paths be relative to</span></span><br><span class="line">      <span class="attr">&quot;justMyCode&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<h2 id="Input-and-Output">Input and Output</h2>
<ul>
<li>
<p>Document<br>
<a target="_blank" rel="noopener" href="https://docs.python.org/3/tutorial/inputoutput.html#formatted-string-literals">Input and Output - formatted-string-literals | python docs</a><br>
<a target="_blank" rel="noopener" href="https://www.runoob.com/python/att-string-format.html">Python format 格式化函数</a></p>
</li>
<li>
<p>Demonstraction</p>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">decimals = [<span class="number">1</span>/deno <span class="keyword">for</span> deno <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">10</span>)]</span><br><span class="line"><span class="built_in">print</span>(decimals)</span><br><span class="line"><span class="comment"># [1.0, 0.5, 0.3333333333333333, 0.25, 0.2, 0.16666666666666666, 0.14285714285714285, 0.125, 0.1111111111111111]</span></span><br><span class="line"><span class="built_in">print</span>([<span class="built_in">float</span>(<span class="string">f&#x27;<span class="subst">&#123;num:<span class="number">0.4</span>f&#125;</span>&#x27;</span>) <span class="keyword">for</span> num <span class="keyword">in</span> decimals])</span><br><span class="line"><span class="comment"># [1.0, 0.5, 0.3333, 0.25, 0.2, 0.1667, 0.1429, 0.125, 0.1111]</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>Trick</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pi = <span class="number">3.14</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;pi = &#125;</span>\n<span class="subst">&#123;<span class="built_in">type</span>(pi) = &#125;</span>&quot;</span>)</span><br><span class="line"><span class="comment"># pi = 3.14</span></span><br><span class="line"><span class="comment"># type(pi)= &lt;class &#x27;float&#x27;&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">pis = [<span class="number">3.1415926</span>*i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>)]</span><br><span class="line"><span class="keyword">for</span> pi <span class="keyword">in</span> pis:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;|<span class="subst">&#123;pi:x^+#012,<span class="number">.2</span>f&#125;</span>|<span class="subst">&#123;pi:^<span class="number">10.4</span>f&#125;</span>|<span class="subst">&#123;pi:&gt;<span class="number">10.2</span>%&#125;</span>|&quot;</span>)</span><br><span class="line"><span class="comment"># |xxx+0.00xxxx|  0.0000  |     0.00%|</span></span><br><span class="line"><span class="comment"># |xxx+3.14xxxx|  3.1416  |   314.16%|</span></span><br><span class="line"><span class="comment"># |xxx+6.28xxxx|  6.2832  |   628.32%|</span></span><br><span class="line"><span class="comment"># |xxx+9.42xxxx|  9.4248  |   942.48%|</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>Syntax</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">format_spec ::=  [[fill]align][sign][<span class="comment">#][0][width][,][.precision][type]</span></span><br><span class="line">fill        ::=  <span class="type">Any</span></span><br><span class="line">align       ::=  <span class="string">&quot;&lt;&quot;</span> | <span class="string">&quot;&gt;&quot;</span> | <span class="string">&quot;=&quot;</span> | <span class="string">&quot;^&quot;</span></span><br><span class="line">sign        ::=  <span class="string">&quot;+&quot;</span> | <span class="string">&quot;-&quot;</span> | <span class="string">&quot; &quot;</span></span><br><span class="line">width       ::=  integer</span><br><span class="line">precision   ::=  integer</span><br><span class="line"><span class="built_in">type</span>        ::=  <span class="string">&quot;b&quot;</span> | <span class="string">&quot;c&quot;</span> | <span class="string">&quot;d&quot;</span> | <span class="string">&quot;e&quot;</span> | <span class="string">&quot;E&quot;</span> | <span class="string">&quot;f&quot;</span> | <span class="string">&quot;F&quot;</span> | <span class="string">&quot;g&quot;</span> | <span class="string">&quot;G&quot;</span> | <span class="string">&quot;n&quot;</span> | <span class="string">&quot;o&quot;</span> | <span class="string">&quot;s&quot;</span> | <span class="string">&quot;x&quot;</span> | <span class="string">&quot;X&quot;</span> | <span class="string">&quot;%&quot;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="double-backslashes-single-forward-slash">double backslashes <code>\\</code> &amp; single forward slash <code>/</code></h2>
<p>Python treat a backslash (<code>\</code>) as an escape character. For instance, <code>\n</code> represents a line feed, and <code>\t</code> represents a tab. When specifying a path, a forward slash (<code>/</code>) can be used in place of a backslash. Two backslashes can be used instead of one to avoid a syntax error.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># D:\Code\Python\text.txt</span></span><br><span class="line">Hello World!</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># single backslash</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;D:\Code\Python\text.txt&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">  content = f.read()</span><br><span class="line">  <span class="built_in">print</span>(content)</span><br><span class="line">  <span class="comment"># OSError: [Errno 22] Invalid argument: &#x27;D:\\Code\\Python\text.txt&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># raw strings</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">r&quot;D:\Code\Python\text.txt&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">  content = f.read()</span><br><span class="line">  <span class="built_in">print</span>(content)</span><br><span class="line">  <span class="comment"># Hello World!</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># double backslashes</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;D:\\Code\\Python\\text.txt&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">  content = f.read()</span><br><span class="line">  <span class="built_in">print</span>(content)</span><br><span class="line">  <span class="comment"># Hello World!</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># single forward slash</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;D:/Code/Python/text.txt&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">  content = f.read()</span><br><span class="line">  <span class="built_in">print</span>(content)</span><br><span class="line">  <span class="comment"># Hello World!</span></span><br></pre></td></tr></table></figure>
<p>When you use double backslashes <code>//</code> or single forward slash <code>\</code> before the last item of the path, it workes.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># \\ before text.txt</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;D:\Code\Python\\text.txt&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">  content = f.read()</span><br><span class="line">  <span class="built_in">print</span>(content)</span><br><span class="line">  <span class="comment"># Hello World!</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># mix backslash and forward slash ended with \\</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;D:/Code\Python\\text.txt&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">  content = f.read()</span><br><span class="line">  <span class="built_in">print</span>(content)</span><br><span class="line">  <span class="comment"># Hello World!</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># mix backslash and forward slash ended with /</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;D:/Code\Python/text.txt&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">  content = f.read()</span><br><span class="line">  <span class="built_in">print</span>(content)</span><br><span class="line">  <span class="comment"># Hello World!</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># mix backslash and forward slash ended with \</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;D:/Code\Python\text.txt&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">  content = f.read()</span><br><span class="line">  <span class="built_in">print</span>(content)</span><br><span class="line">  <span class="comment"># OSError: [Errno 22] Invalid argument: &#x27;D:/Code\\Python\text.txt&#x27;</span></span><br></pre></td></tr></table></figure>
<h2 id="json">json</h2>
<p><a target="_blank" rel="noopener" href="https://www.w3schools.com/python/python_json.asp">python_json | w3schools</a></p>
<h2 id="传参数">*传参数</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">nums = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(*nums) <span class="comment"># 1 2 3</span></span><br><span class="line"><span class="built_in">print</span>(nums)  <span class="comment"># [1, 2, 3]</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>*nums表示把nums这个list的所有元素作为可变参数传进去。这种写法相当有用，而且很常见。<br>
—— <a target="_blank" rel="noopener" href="https://www.liaoxuefeng.com/wiki/1016959663602400/1017261630425888">函数的参数 | 廖雪峰 Python 教程</a></p>
</blockquote>
<h2 id="判断变量是否可迭代">判断变量是否可迭代</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 方法一</span></span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> Iterable</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">isinstance</span>(<span class="string">&quot;str&quot;</span>, Iterable)) <span class="comment"># True</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 方法二</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">hasattr</span>(<span class="string">&quot;str&quot;</span>, <span class="string">&quot;__iter__&quot;</span>))  <span class="comment"># True</span></span><br></pre></td></tr></table></figure>
<h2 id="collections-Counter">collections.Counter</h2>
<p><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/collections.html#collections.Counter">collections.Counter | docs.python.org</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> Counter</span><br><span class="line"></span><br><span class="line">iter_list = [<span class="string">&quot;A&quot;</span>, <span class="string">&quot;A&quot;</span>, <span class="string">&quot;B&quot;</span>, <span class="string">&quot;A&quot;</span>, <span class="string">&quot;B&quot;</span>, <span class="string">&quot;C&quot;</span>]</span><br><span class="line">counter = Counter(iter_list)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(counter) <span class="comment"># Counter(&#123;&#x27;A&#x27;: 3, &#x27;B&#x27;: 2, &#x27;C&#x27;: 1&#125;)</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(counter)) <span class="comment"># &lt;class &#x27;collections.Counter&#x27;&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 可迭代</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">hasattr</span>(counter, <span class="string">&quot;__iter__&quot;</span>)) <span class="comment"># True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 调用自带的.items()方法可以访问counter的内容</span></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> counter.items():</span><br><span class="line">    <span class="built_in">print</span>(item, <span class="built_in">type</span>(item))</span><br><span class="line">    <span class="comment"># (&#x27;A&#x27;, 3) &lt;class &#x27;tuple&#x27;&gt;</span></span><br><span class="line">    <span class="comment"># (&#x27;B&#x27;, 2) &lt;class &#x27;tuple&#x27;&gt;</span></span><br><span class="line">    <span class="comment"># (&#x27;C&#x27;, 1) &lt;class &#x27;tuple&#x27;&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 统计出现次数最多的元素</span></span><br><span class="line">most = counter.most_common(<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(most, <span class="built_in">type</span>(most)) <span class="comment">#[(&#x27;A&#x27;, 3)] &lt;class &#x27;list&#x27;&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查询具体元素的个数</span></span><br><span class="line"><span class="built_in">print</span>(counter[<span class="string">&quot;A&quot;</span>]) <span class="comment"># 3</span></span><br><span class="line"><span class="built_in">print</span>(counter[<span class="string">&quot;B&quot;</span>]) <span class="comment"># 2</span></span><br><span class="line"><span class="built_in">print</span>(counter[<span class="string">&quot;C&quot;</span>]) <span class="comment"># 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># elements() 方法按照元素首次出现的顺序, 列出所有元素</span></span><br><span class="line"><span class="keyword">for</span> element <span class="keyword">in</span> counter.elements():</span><br><span class="line">    <span class="built_in">print</span>(element)</span><br><span class="line">    <span class="comment"># A A A B B C</span></span><br><span class="line"><span class="comment"># 可以使用 list() 转换成列表输出</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(counter.elements())) <span class="comment"># [&#x27;A&#x27;, &#x27;A&#x27;, &#x27;A&#x27;, &#x27;B&#x27;, &#x27;B&#x27;, &#x27;C&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 sorted(), 结合 Key Functions 按照元素出现的次数进行排序</span></span><br><span class="line">freqs = <span class="built_in">sorted</span>(counter.items(), key=<span class="keyword">lambda</span> x: x[<span class="number">1</span>], reverse=<span class="literal">False</span>)</span><br><span class="line"><span class="built_in">print</span>(freqs) <span class="comment"># [(&#x27;C&#x27;, 1), (&#x27;B&#x27;, 2), (&#x27;A&#x27;, 3)]</span></span><br></pre></td></tr></table></figure>
<h2 id="sorted">sorted()</h2>
<p><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html#sorted">sorted() | docs.python.org</a><br>
<a target="_blank" rel="noopener" href="https://docs.python.org/3/howto/sorting.html#sorting-how-to">Sorting HOW TO | docs.python.org</a></p>
<h2 id="len、shape、size">len、shape、size</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> torch <span class="keyword">as</span> tc</span><br><span class="line"></span><br><span class="line"><span class="comment"># Elements of array can be numeric or string type:</span></span><br><span class="line">array = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">array = np.array([<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Elements of tensor can only be numeric, and string type is not allowed:</span></span><br><span class="line">tensor = tc.tensor([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Error</span></span><br><span class="line">tensor = tc.tensor([<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>])</span><br><span class="line"><span class="comment">#     tensor = tc.tensor([&#x27;a&#x27;, &#x27;b&#x27;])</span></span><br><span class="line"><span class="comment"># ValueError: too many dimensions &#x27;str&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Error</span></span><br><span class="line">tensor = tc.tensor([<span class="number">1</span>, <span class="string">&#x27;b&#x27;</span>])</span><br><span class="line"><span class="comment">#     tensor = tc.tensor([1, &#x27;b&#x27;])</span></span><br><span class="line"><span class="comment"># TypeError: new(): invalid data type &#x27;str&#x27;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> torch <span class="keyword">as</span> tc</span><br><span class="line"></span><br><span class="line"><span class="built_in">list</span> = [[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">        [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]]</span><br><span class="line">array = np.array(<span class="built_in">list</span>)</span><br><span class="line">tensor = tc.tensor(<span class="built_in">list</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># list</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>.__len__()) <span class="comment"># 2</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(<span class="built_in">list</span>))      <span class="comment"># 2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># array</span></span><br><span class="line"><span class="built_in">print</span>(array.__len__()) <span class="comment"># 2</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(array))      <span class="comment"># 2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># array-np.shape</span></span><br><span class="line"><span class="built_in">print</span>(array.shape)     <span class="comment"># (2, 3)</span></span><br><span class="line"><span class="built_in">print</span>(np.shape(array)) <span class="comment"># (2, 3)</span></span><br><span class="line"><span class="built_in">print</span>(np.shape(array)[<span class="number">0</span>]) <span class="comment"># 2</span></span><br><span class="line"><span class="built_in">print</span>(np.shape(array)[<span class="number">1</span>]) <span class="comment"># 3</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># array-np.size</span></span><br><span class="line"><span class="built_in">print</span>(array.size)      <span class="comment"># 6</span></span><br><span class="line"><span class="built_in">print</span>(np.size(array))  <span class="comment"># 6</span></span><br><span class="line"><span class="built_in">print</span>(np.size(array, <span class="number">0</span>))  <span class="comment"># 2</span></span><br><span class="line"><span class="built_in">print</span>(np.size(array, <span class="number">1</span>))  <span class="comment"># 3</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># tensor</span></span><br><span class="line"><span class="built_in">print</span>(tensor.__len__()) <span class="comment"># 2</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(tensor))      <span class="comment"># 2</span></span><br><span class="line"><span class="comment"># tensor.shape</span></span><br><span class="line"><span class="built_in">print</span>(tensor.shape)     <span class="comment"># torch.Size([2, 3])</span></span><br><span class="line"><span class="built_in">print</span>(tensor.shape[<span class="number">0</span>])  <span class="comment"># 2</span></span><br><span class="line"><span class="built_in">print</span>(tensor.shape[<span class="number">1</span>])  <span class="comment"># 3</span></span><br><span class="line"><span class="comment"># np.shape()</span></span><br><span class="line"><span class="built_in">print</span>(np.shape(tensor))    <span class="comment"># torch.Size([2, 3])</span></span><br><span class="line"><span class="built_in">print</span>(np.shape(tensor)[<span class="number">0</span>]) <span class="comment"># 2</span></span><br><span class="line"><span class="built_in">print</span>(np.shape(tensor)[<span class="number">1</span>]) <span class="comment"># 3</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># tensor.size()</span></span><br><span class="line"><span class="built_in">print</span>(tensor.size)      <span class="comment">#&lt;built-in method size of Tensor object at 0x00000245A8814F40&gt;</span></span><br><span class="line"><span class="built_in">print</span>(tensor.size())    <span class="comment"># torch.Size([2, 3])</span></span><br><span class="line"><span class="comment"># np.size()</span></span><br><span class="line"><span class="built_in">print</span>(np.size(tensor))  <span class="comment">#&lt;built-in method size of Tensor object at 0x00000245A8814F40&gt;</span></span><br><span class="line"><span class="built_in">print</span>(np.size(tensor)())<span class="comment"># torch.Size([2, 3])</span></span><br><span class="line"><span class="built_in">print</span>(np.size(tensor, <span class="number">0</span>))  <span class="comment"># 2</span></span><br><span class="line"><span class="built_in">print</span>(np.size(tensor, <span class="number">1</span>))  <span class="comment"># 3</span></span><br></pre></td></tr></table></figure>
<p>对于 tensor 即使不导入 numpy 模块，也可以使用 <code>.shape</code> 和 <code>.size()</code> 来返回 tensor 的形状</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch <span class="keyword">as</span> tc</span><br><span class="line"></span><br><span class="line"><span class="built_in">list</span> = [[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">        [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]]</span><br><span class="line">tensor = tc.tensor(<span class="built_in">list</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(tensor.shape)   <span class="comment"># torch.Size([2, 3])</span></span><br><span class="line"><span class="built_in">print</span>(tensor.shape[<span class="number">0</span>])<span class="comment"># 2</span></span><br><span class="line"><span class="built_in">print</span>(tensor.shape[<span class="number">1</span>])<span class="comment"># 3</span></span><br><span class="line"><span class="built_in">print</span>(tensor.size())  <span class="comment"># torch.Size([2, 3])</span></span><br><span class="line"><span class="built_in">print</span>(tensor.size(<span class="number">0</span>)) <span class="comment"># 2</span></span><br><span class="line"><span class="built_in">print</span>(tensor.size(<span class="number">1</span>)) <span class="comment"># 3</span></span><br></pre></td></tr></table></figure>
<p><code>len()</code> 只能返回第一层的元素数量</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> torch <span class="keyword">as</span> tc</span><br><span class="line"></span><br><span class="line">l = <span class="built_in">list</span>([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]])</span><br><span class="line">n = np.array(l)</span><br><span class="line">t = tc.tensor(l)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(l, <span class="built_in">len</span>(l), <span class="built_in">type</span>(l))</span><br><span class="line"><span class="built_in">print</span>(n, <span class="built_in">len</span>(n), <span class="built_in">type</span>(n))</span><br><span class="line"><span class="built_in">print</span>(t, <span class="built_in">len</span>(t), <span class="built_in">type</span>(t))</span><br><span class="line"></span><br><span class="line"><span class="comment"># [[1, 2, 3], [4, 5, 6]] 2 &lt;class &#x27;list&#x27;&gt;</span></span><br><span class="line"><span class="comment"># [[1 2 3]</span></span><br><span class="line"><span class="comment">#  [4 5 6]] 2 &lt;class &#x27;numpy.ndarray&#x27;&gt;</span></span><br><span class="line"><span class="comment"># tensor([[1, 2, 3],</span></span><br><span class="line"><span class="comment">#         [4, 5, 6]]) 2 &lt;class &#x27;torch.Tensor&#x27;&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="查看包的安装位置">查看包的安装位置</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> module</span><br><span class="line"><span class="built_in">print</span>(module.__file__)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="built_in">print</span>(torch.__file__)</span><br><span class="line"><span class="comment"># C:\Users\xiaophai\.conda\envs\pytorch\lib\site-packages\torch\__init__.py</span></span><br></pre></td></tr></table></figure>
<h2 id="Something-about-path">Something about path</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># filename: test.py</span></span><br><span class="line"><span class="built_in">print</span>(os.path.basename(__file__)) <span class="comment"># test.py</span></span><br></pre></td></tr></table></figure>
<h2 id="time">time</h2>
<p>In Python, the <code>time.time()</code> function returns the number of seconds passed since epoch (the point where time begins).</p>
<p>What is epoch time?<br>
Check this <a target="_blank" rel="noopener" href="https://www.wikiwand.com/en/Epoch_(computing)">Epoch | wikiwand</a>, you will have the answer.</p>
<p>Different systems have different epoch time.<br>
For instance, Unix and POSIX measure time as the number of seconds that have passed since Thursday 1 January 1970 00:00:00 UT, a point in time known as the Unix epoch.<br>
Windows NT systems, up to and including Windows 11 and Windows Server 2022, measure time as the number of 100-nanosecond intervals that have passed since 1 January 1601 00:00:00 UTC, making that point in time the epoch for those systems.</p>
<blockquote>
<p>UTC means <a target="_blank" rel="noopener" href="https://www.wikiwand.com/en/Coordinated_Universal_Time">Coordinated Universal Time</a></p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="comment"># Record the time of now</span></span><br><span class="line">start_time = time.time()</span><br><span class="line"></span><br><span class="line"><span class="comment"># It is a number meaning how many seconds there have been since 1 January 1601 00:00:00 UTC</span></span><br><span class="line"><span class="built_in">print</span>(start_time)</span><br><span class="line"><span class="comment"># 1691678385.7681801 </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Pause this program for 10 secondes</span></span><br><span class="line">time.sleep(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Total time: &#123;:.2f&#125; seconds&quot;</span>.<span class="built_in">format</span>((time.time() - start_time)))</span><br><span class="line"><span class="comment"># Total time: 10.01 seconds</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Total time: &#123;:.2f&#125; minutes&quot;</span>.<span class="built_in">format</span>((time.time() - start_time) / <span class="number">60</span>))</span><br><span class="line"><span class="comment"># Total time: 0.17 minutes</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.runoob.com/python/att-string-format.html">Python format 格式化函数</a></p>
</blockquote>
<h2 id="tqdm">tqdm</h2>
<p><a target="_blank" rel="noopener" href="https://tqdm.github.io/docs/notebook/">tqdm.notebook</a></p>
<p><code>tqdm</code> derives from the Arabic word taqaddum (تقدّم) which can mean “progress,” and is an abbreviation for “I love you so much” in Spanish (te quiero demasiado).</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> tqdm <span class="keyword">import</span> tqdm</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> tqdm(<span class="built_in">range</span>(<span class="number">10</span>)):</span><br><span class="line">  time.sleep(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 100%|█████████████████████████████████████████████████████████████████████| 10/10 [00:10&lt;00:00,  1.00s/it]</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> tqdm <span class="keyword">import</span> tqdm</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> tqdm(total=<span class="number">10</span>) <span class="keyword">as</span> pbar:</span><br><span class="line">  <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">    time.sleep(<span class="number">0.25</span>)</span><br><span class="line">    pbar.set_description(<span class="string">f&quot;Processing: <span class="subst">&#123;i&#125;</span>&quot;</span>)</span><br><span class="line">    pbar.update(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Processing: 9: 100%|██████████████████████████████████████████████████████| 10/10 [00:02&lt;00:00,  3.96it/s]</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> tqdm <span class="keyword">import</span> tqdm</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> epoch <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>):</span><br><span class="line">  <span class="keyword">for</span> i <span class="keyword">in</span> tqdm(<span class="built_in">range</span>(<span class="number">10</span>), desc=<span class="string">f&quot;epoch <span class="subst">&#123;epoch&#125;</span>&quot;</span>):</span><br><span class="line">    time.sleep(<span class="number">0.25</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># epoch 0: 100%|████████████████████████████████████████████████████████████| 10/10 [00:02&lt;00:00,  3.97it/s]</span></span><br><span class="line"><span class="comment"># epoch 1: 100%|████████████████████████████████████████████████████████████| 10/10 [00:02&lt;00:00,  3.93it/s]</span></span><br><span class="line"><span class="comment"># epoch 2: 100%|████████████████████████████████████████████████████████████| 10/10 [00:02&lt;00:00,  3.93it/s]</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> tqdm <span class="keyword">import</span> tqdm</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> epoch <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>):</span><br><span class="line">    <span class="keyword">with</span> tqdm(<span class="built_in">range</span>(<span class="number">10</span>)) <span class="keyword">as</span> pbar:</span><br><span class="line">        pbar.set_description(<span class="string">f&quot;epoch <span class="subst">&#123;epoch&#125;</span>&quot;</span>)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> pbar:</span><br><span class="line">            time.sleep(<span class="number">0.25</span>)</span><br><span class="line">            pbar.set_postfix(&#123;<span class="string">&quot;cubic&quot;</span>: <span class="number">2</span>**i, <span class="string">&quot;quadratic&quot;</span>: <span class="number">3</span>**i&#125;)</span><br><span class="line"><span class="comment"># epoch 0: 100%|████████████████████████████████| 10/10 [00:02&lt;00:00,  3.88it/s, cubic=512, quadratic=19683]</span></span><br><span class="line"><span class="comment"># epoch 1: 100%|████████████████████████████████| 10/10 [00:02&lt;00:00,  3.88it/s, cubic=512, quadratic=19683]</span></span><br><span class="line"><span class="comment"># epoch 2: 100%|████████████████████████████████| 10/10 [00:02&lt;00:00,  3.85it/s, cubic=512, quadratic=19683]</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> epoch_num <span class="keyword">in</span> <span class="built_in">range</span>(max_epoch):</span><br><span class="line">    <span class="keyword">with</span> tqdm(trainloader) <span class="keyword">as</span> pbar:</span><br><span class="line">        pbar.set_description(<span class="string">f&quot;epoch <span class="subst">&#123;epoch_num&#125;</span>&quot;</span>)</span><br><span class="line">        <span class="keyword">for</span> i_batch, sampled_batch <span class="keyword">in</span> <span class="built_in">enumerate</span>(pbar):</span><br><span class="line">            ...</span><br><span class="line">            pbar.set_postfix(&#123;<span class="string">&quot;iteration&quot;</span>: i_batch, <span class="string">&quot;loss&quot;</span>: loss.item()&#125;)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>The tail of tqdm’s output <code>*.**it/s</code> means how many items per second.<br>
3.97 = 10/2.5</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> tqdm <span class="keyword">import</span> tqdm</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line">alist = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">10</span>))</span><br><span class="line">pbar = tqdm(alist)</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;Note the difference between the two approaches&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> pbar:</span><br><span class="line">    time.sleep(<span class="number">0.25</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> alist: <span class="comment"># &lt;--</span></span><br><span class="line">    time.sleep(<span class="number">0.25</span>)</span><br><span class="line">    pbar.update() <span class="comment"># &lt;--</span></span><br></pre></td></tr></table></figure>
<h2 id="cProfile">cProfile</h2>
<p><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/profile.html">The Python Profilers</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># test.py</span></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">factorial</span>(<span class="params">n</span>):</span><br><span class="line">  <span class="keyword">if</span> n==<span class="number">0</span>:</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">  <span class="keyword">elif</span> n&gt;=<span class="number">1</span>:</span><br><span class="line">    <span class="keyword">return</span> n*factorial(n-<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">waste</span>(<span class="params">t</span>):</span><br><span class="line">  time.sleep(t)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">        <span class="built_in">print</span>(factorial(i))</span><br><span class="line">        waste(<span class="number">0.25</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>Using in terminal</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># terminal</span></span><br><span class="line">PS ...&gt; python -m cProfile  test.py</span><br><span class="line"><span class="comment"># ...</span></span><br><span class="line"><span class="comment">#          88 function calls (43 primitive calls) in 2.527 seconds</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#    Ordered by: standard name</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#    ncalls  tottime  percall  cumtime  percall filename:lineno(function)</span></span><br><span class="line"><span class="comment">#         1    0.000    0.000    2.527    2.527 draft.py:1(&lt;module&gt;)</span></span><br><span class="line"><span class="comment">#     55/10    0.000    0.000    0.000    0.000 draft.py:3(factorial)</span></span><br><span class="line"><span class="comment">#        10    0.000    0.000    2.524    0.252 draft.py:9(waste)</span></span><br><span class="line"><span class="comment">#         1    0.000    0.000    2.527    2.527 &#123;built-in method builtins.exec&#125;</span></span><br><span class="line"><span class="comment">#        10    0.003    0.000    0.003    0.000 &#123;built-in method builtins.print&#125;</span></span><br><span class="line"><span class="comment">#        10    2.524    0.252    2.524    0.252 &#123;built-in method time.sleep&#125;</span></span><br><span class="line"><span class="comment">#         1    0.000    0.000    0.000    0.000 &#123;method &#x27;disable&#x27; of &#x27;_lsprof.Profiler&#x27; objects&#125;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>Using in python code</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> cProfile</span><br><span class="line"><span class="keyword">import</span> pstats</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">factorial</span>(<span class="params">n</span>):</span><br><span class="line">  <span class="keyword">if</span> n==<span class="number">0</span>:</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">  <span class="keyword">elif</span> n&gt;=<span class="number">1</span>:</span><br><span class="line">    <span class="keyword">return</span> n*factorial(n-<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">waste</span>(<span class="params">t</span>):</span><br><span class="line">  time.sleep(t)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    <span class="keyword">with</span> cProfile.Profile() <span class="keyword">as</span> profile:</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">            <span class="built_in">print</span>(factorial(i))</span><br><span class="line">            waste(<span class="number">0.25</span>)</span><br><span class="line">    </span><br><span class="line">    results = pstats.Stats(profile)</span><br><span class="line">    results.sort_stats(pstats.SortKey.TIME)</span><br><span class="line">    results.print_stats()</span><br><span class="line"><span class="comment">#          87 function calls (42 primitive calls) in 2.581 seconds</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#    Ordered by: internal time &lt;-- Note</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#    ncalls  tottime  percall  cumtime  percall filename:lineno(function)</span></span><br><span class="line"><span class="comment">#        10    2.577    0.258    2.577    0.258 &#123;built-in method time.sleep&#125;</span></span><br><span class="line"><span class="comment">#        10    0.003    0.000    0.003    0.000 &#123;built-in method builtins.print&#125;</span></span><br><span class="line"><span class="comment">#     55/10    0.000    0.000    0.000    0.000 d:/Code/Python/GeoSeg/draft.py:5(factorial)</span></span><br><span class="line"><span class="comment">#        10    0.000    0.000    2.577    0.258 d:/Code/Python/GeoSeg/draft.py:11(waste)</span></span><br><span class="line"><span class="comment">#         1    0.000    0.000    0.000    0.000 C:\Users\xiaophai\.conda\envs\geoseg\lib\cProfile.py:134(__exit__)</span></span><br><span class="line"><span class="comment">#         1    0.000    0.000    0.000    0.000 &#123;method &#x27;disable&#x27; of &#x27;_lsprof.Profiler&#x27; objects&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="tuna">tuna</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(conda_env) ...&gt;pip install tuna</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(conda_env) ...&gt;python -m cProfile -o cprofile_output.prof -s tottime test.py</span><br><span class="line">(conda_env) ...&gt;tuna cprofile_output.prof</span><br></pre></td></tr></table></figure>
<h2 id="for-else">for/else</h2>
<p><a target="_blank" rel="noopener" href="https://book.pythontips.com/en/latest/for_-_else.html">for/else</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> n <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>, <span class="number">10</span>):</span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>, n):</span><br><span class="line">        <span class="keyword">if</span> n % x == <span class="number">0</span>:</span><br><span class="line">            <span class="built_in">print</span>( n, <span class="string">&#x27;equals&#x27;</span>, x, <span class="string">&#x27;*&#x27;</span>, n/x)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="comment"># loop fell through without finding a factor</span></span><br><span class="line">        <span class="built_in">print</span>(n, <span class="string">&#x27;is a prime number&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h2 id="argparse">argparse</h2>
<p><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/argparse.html">argparse - Parser for command-line options, arguments and sub-commands</a></p>
<p><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/argparse.html#argparse.ArgumentParser.add_argument">The add_argument() method</a></p>
<p><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/argparse.html#the-parse-args-method">The parse_args() method</a></p>
<p><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/argparse.html#action">action</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> argparse</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_parser</span>():</span><br><span class="line">    parser = argparse.ArgumentParser(description=<span class="string">&#x27;Demo For argparse Usage&#x27;</span>)</span><br><span class="line">    parser.add_argument(<span class="string">&#x27;-g&#x27;</span>, <span class="string">&#x27;--gender&#x27;</span>, default=<span class="string">&#x27;male&#x27;</span>, choices=[<span class="string">&#x27;male&#x27;</span>, <span class="string">&#x27;female&#x27;</span>], <span class="built_in">help</span>=<span class="string">&#x27;Input Your Gender&#x27;</span>)</span><br><span class="line">    parser.add_argument(<span class="string">&#x27;-a&#x27;</span>, <span class="string">&#x27;--age&#x27;</span>, <span class="built_in">type</span>=<span class="built_in">int</span>, choices=<span class="built_in">range</span>(<span class="number">18</span>, <span class="number">22</span>), <span class="built_in">help</span>=<span class="string">&#x27;Input Your Age&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> parser</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    parser = get_parser()</span><br><span class="line">    parser.print_help()</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    usage: draft.py [-h] [-g &#123;male,female&#125;] [-a &#123;18,19,20,21&#125;]</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Demo For argparse Usage</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    optional arguments:</span></span><br><span class="line"><span class="string">    -h, --help            show this help message and exit</span></span><br><span class="line"><span class="string">    -g &#123;male,female&#125;, --gender &#123;male,female&#125;</span></span><br><span class="line"><span class="string">                            Input Your Gender</span></span><br><span class="line"><span class="string">    -a &#123;18,19,20,21&#125;, --age &#123;18,19,20,21&#125;</span></span><br><span class="line"><span class="string">                            Input Your Age</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    parser.print_usage()</span><br><span class="line">    <span class="comment"># usage: draft.py [-h] [-g &#123;male,female&#125;] [-a &#123;18,19,20,21&#125;]</span></span><br><span class="line"></span><br><span class="line">    args = parser.parse_args([<span class="string">&quot;-g&quot;</span>, <span class="string">&quot;male&quot;</span>, <span class="string">&quot;-a&quot;</span>, <span class="string">&quot;20&quot;</span>])</span><br><span class="line">    <span class="built_in">print</span>(args)</span><br><span class="line">    <span class="comment"># Namespace(age=20, gender=&#x27;male&#x27;)</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Error Usage</span></span><br><span class="line">args = parser.parse_args([<span class="string">&quot;-g&quot;</span>, <span class="string">&quot;male&quot;</span>, <span class="string">&quot;-a&quot;</span>, <span class="string">&quot;0&quot;</span>])</span><br><span class="line"><span class="comment"># usage: draft.py [-h] [-g &#123;male,female&#125;] [-a &#123;18,19,20,21&#125;]</span></span><br><span class="line"><span class="comment"># draft.py: error: argument -a/--age: invalid choice: 0 (choose from 18, 19, 20, 21)</span></span><br><span class="line"></span><br><span class="line">args = parser.parse_args([<span class="string">&quot;-g&quot;</span>, <span class="string">&quot;male&quot;</span>, <span class="string">&quot;-a&quot;</span>, <span class="number">20</span>])</span><br><span class="line"><span class="comment"># TypeError: &#x27;int&#x27; object is not subscriptable</span></span><br></pre></td></tr></table></figure>
<h3 id="How-to-pass-arguments-in-Jupyter-Notebook-or-Colab">How to pass arguments in Jupyter Notebook or Colab</h3>
<p>By adding an empty string <code>parser.parse_args(&quot;&quot;)</code> to avoid error</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> argparse</span><br><span class="line"></span><br><span class="line">parser = argparse.ArgumentParser()</span><br><span class="line">parser.add_argument(...)</span><br><span class="line"></span><br><span class="line"><span class="comment"># add a blank string &quot;&quot; to the argument list</span></span><br><span class="line">args = parser.parse_args(<span class="string">&quot;&quot;</span>) <span class="comment"># &lt;--</span></span><br></pre></td></tr></table></figure>
<h3 id="How-to-pass-arguments-to-python-programm-with-argparse-when-debuging">How to pass arguments to python programm with <code>argparse</code> when debuging?</h3>
<p><a target="_blank" rel="noopener" href="https://code.visualstudio.com/docs/python/debugging#_set-configuration-options">Set configuration options | vscode doc</a></p>
<p><a target="_blank" rel="noopener" href="https://code.visualstudio.com/docs/python/debugging#_args">Set configuration options#args | vscode doc</a></p>
<p>Specifies arguments to pass to the Python program. Each element of the argument string that’s separated by a space should be contained within quotes, for example:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;args&quot;</span> <span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;zhang&quot;</span><span class="punctuation">,</span> <span class="string">&quot;--age&quot;</span><span class="punctuation">,</span> <span class="string">&quot;18&quot;</span><span class="punctuation">,</span> <span class="string">&quot;--gender&quot;</span><span class="punctuation">,</span> <span class="string">&quot;male&quot;</span><span class="punctuation">]</span></span><br></pre></td></tr></table></figure>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Folder Structure:</span></span><br><span class="line"><span class="comment">// MyProject</span></span><br><span class="line"><span class="comment">// ├── script.py</span></span><br><span class="line"><span class="comment">// └── .vscode</span></span><br><span class="line"><span class="comment">//      └── launch.json</span></span><br><span class="line"></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.2.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;configurations&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="comment">// &quot;name&quot;: Provides the name for the debug configuration</span></span><br><span class="line">      <span class="comment">//         that appears in the VS Code dropdown list.</span></span><br><span class="line">      <span class="comment">//     ps: it&#x27;s just a name used to help you identify which program to debug,</span></span><br><span class="line">      <span class="comment">//         especially when you have mutipul configurations.</span></span><br><span class="line">      <span class="comment">//         So you can name it anything and don&#x27;t have to </span></span><br><span class="line">      <span class="comment">//         name it same with the original name of the programm.</span></span><br><span class="line">      <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Python: debug_script&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// &quot;type&quot;: Identifies the type of debugger to use;</span></span><br><span class="line">      <span class="comment">//         leave this set to &quot;python&quot; for Python code.</span></span><br><span class="line">      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;debugpy&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// &quot;request&quot;: &quot;launch&quot; or &quot;attach&quot;</span></span><br><span class="line">      <span class="attr">&quot;request&quot;</span><span class="punctuation">:</span> <span class="string">&quot;launch&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// &quot;program&quot;: Provides the fully qualified path to the python program&#x27;s entry module.</span></span><br><span class="line">      <span class="comment">//            You can also rely on a relative path from the workspace root</span></span><br><span class="line">      <span class="attr">&quot;program&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;workspaceFolder&#125;/script.py&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// &quot;args&quot;: Specifies arguments to pass to the Python program.</span></span><br><span class="line">      <span class="comment">//         Each element of the argument string that&#x27;s separated</span></span><br><span class="line">      <span class="comment">//         by a space should be contained within quotes.</span></span><br><span class="line">      <span class="attr">&quot;args&quot;</span> <span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;zhang&quot;</span><span class="punctuation">,</span> <span class="string">&quot;--age&quot;</span><span class="punctuation">,</span> <span class="string">&quot;18&quot;</span><span class="punctuation">,</span> <span class="string">&quot;--gender&quot;</span><span class="punctuation">,</span> <span class="string">&quot;male&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// &quot;console&quot;: Specifies how program output is displayed.</span></span><br><span class="line">      <span class="comment">//            &quot;internalConsole&quot; or &quot;integratedTerminal&quot;(default) or &quot;externalTerminal&quot;</span></span><br><span class="line">      <span class="attr">&quot;console&quot;</span><span class="punctuation">:</span> <span class="string">&quot;integratedTerminal&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// &quot;justMyCode&quot;: When omitted or set to &quot;true&quot; (the default),</span></span><br><span class="line">      <span class="comment">//               restricts debugging to user-written code only.</span></span><br><span class="line">      <span class="comment">//               Set to &quot;false&quot; to also enable debugging of standard library functions.</span></span><br><span class="line">      <span class="attr">&quot;justMyCode&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<h2 id="Python-debugging-in-VSCode">Python debugging in VSCode</h2>
<p><a target="_blank" rel="noopener" href="https://code.visualstudio.com/docs/editor/debugging">Debugging | vscode doc</a></p>
<p><a target="_blank" rel="noopener" href="https://code.visualstudio.com/docs/python/debugging">Python debugging in VS Code | vscode doc</a></p>
<p><a target="_blank" rel="noopener" href="https://code.visualstudio.com/docs/python/debugging#_set-configuration-options">Set configuration options | vscode doc</a></p>
<h3 id="an-example-of-mutipul-configurations">an example of mutipul configurations</h3>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.2.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;configurations&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Python: config1_script&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;debugpy&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;request&quot;</span><span class="punctuation">:</span> <span class="string">&quot;launch&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;program&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;workspaceFolder&#125;/script.py&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;args&quot;</span> <span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;zhang&quot;</span><span class="punctuation">,</span> <span class="string">&quot;--age&quot;</span><span class="punctuation">,</span> <span class="string">&quot;18&quot;</span><span class="punctuation">,</span> <span class="string">&quot;--gender&quot;</span><span class="punctuation">,</span> <span class="string">&quot;male&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;console&quot;</span><span class="punctuation">:</span> <span class="string">&quot;integratedTerminal&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;justMyCode&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Python: config2_train&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;debugpy&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;request&quot;</span><span class="punctuation">:</span> <span class="string">&quot;launch&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;program&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;workspaceFolder&#125;/mmsegmentation/tools/train.py&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="string">&quot;configs/unet/unet_s5-d16_deeplabv3_4xb4-40k_chase-db1-128x128.py&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;console&quot;</span><span class="punctuation">:</span> <span class="string">&quot;integratedTerminal&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;cwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;workspaceFolder&#125;/mmsegmentation&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;justMyCode&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<h2 id="Settings-of-VSCode">Settings of VSCode</h2>
<h3 id="variables-and-watch">variables and watch</h3>
<h2 id="Packages-and-init-py">Packages and <code>__init__.py</code></h2>
<p><a target="_blank" rel="noopener" href="https://docs.python.org/3/tutorial/modules.html#packages">Packages | python docs</a></p>
<p>When there is no <code>__init__.py</code> in the package,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Folder Structure:</span></span><br><span class="line">mian.py</span><br><span class="line">package</span><br><span class="line">├── moduleA.py : <span class="keyword">def</span> <span class="title function_">printA</span>(): <span class="built_in">print</span>(<span class="string">&quot;A&quot;</span>)</span><br><span class="line">|</span><br><span class="line">└── subpack</span><br><span class="line">    └── moduleB.py : <span class="keyword">def</span> <span class="title function_">printB</span>(): <span class="built_in">print</span>(<span class="string">&quot;B&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>If I want to import a module or method from the package, I need to specify the location of the module or method.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># main.py</span></span><br><span class="line"><span class="keyword">from</span> package.moduleA <span class="keyword">import</span> printA</span><br><span class="line"><span class="keyword">from</span> package.subpack.moduleB <span class="keyword">import</span> printB</span><br><span class="line"></span><br><span class="line">printA() <span class="comment"># A</span></span><br><span class="line">printB() <span class="comment"># B</span></span><br></pre></td></tr></table></figure>
<p>When there is an <code>__init__.py</code> in the package,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Folder Structure:</span></span><br><span class="line">mian.py</span><br><span class="line">package</span><br><span class="line">├── __init__.py</span><br><span class="line">├── moduleA.py : <span class="keyword">def</span> <span class="title function_">printA</span>(): <span class="built_in">print</span>(<span class="string">&quot;A&quot;</span>)</span><br><span class="line">|</span><br><span class="line">└── subpack</span><br><span class="line">    └── moduleB.py : <span class="keyword">def</span> <span class="title function_">printB</span>(): <span class="built_in">print</span>(<span class="string">&quot;B&quot;</span>)</span><br></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://docs.python.org/3/reference/import.html#package-relative-imports">Package Relative Imports | python docs</a></p>
<p>the imports can be done in the <code>__init__.py</code>, so it is more convenient to do the imports in the <code>main.py</code>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># package/__init__.py</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="keyword">from</span> moduleA <span class="keyword">import</span> printA</span><br><span class="line">    <span class="keyword">from</span> subpack.moduleB <span class="keyword">import</span> printB</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="comment"># use relative imports</span></span><br><span class="line">    <span class="keyword">from</span> .moduleA <span class="keyword">import</span> printA</span><br><span class="line">    <span class="keyword">from</span> .subpack.moduleB <span class="keyword">import</span> printB</span><br><span class="line"></span><br><span class="line"><span class="comment"># -----------------------------</span></span><br><span class="line"><span class="comment"># main.py</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># from package.moduleA import printA</span></span><br><span class="line"><span class="comment"># from package.subpack1.moduleB import printB</span></span><br><span class="line"><span class="keyword">from</span> package <span class="keyword">import</span> printA</span><br><span class="line"><span class="keyword">from</span> package <span class="keyword">import</span> printB</span><br><span class="line"></span><br><span class="line">printA() <span class="comment"># A</span></span><br><span class="line">printB() <span class="comment"># B</span></span><br></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://docs.python.org/3/tutorial/modules.html#importing-from-a-package">Importing * From a Package</a><br>
Besides, you can define a <code>list</code> named <code>__all__</code> in the <code>__init__.py</code>, which contain the names of modules or methods that you have imported in the <code>__init__.py</code>. When you use <code>from package import *</code> in the <code>main.py</code>, all of the modules or methods in the <code>__all__</code> list will be imported.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Folder Structure:</span></span><br><span class="line">mian.py</span><br><span class="line">package</span><br><span class="line">├── __init__.py</span><br><span class="line">├── moduleA.py : <span class="keyword">def</span> <span class="title function_">printA</span>(): <span class="built_in">print</span>(<span class="string">&quot;A&quot;</span>)</span><br><span class="line">|</span><br><span class="line">└── subpack</span><br><span class="line">    └── moduleB.py : <span class="keyword">def</span> <span class="title function_">printB</span>(): <span class="built_in">print</span>(<span class="string">&quot;B&quot;</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># package/__init__.py</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="keyword">from</span> moduleA <span class="keyword">import</span> printA</span><br><span class="line">    <span class="keyword">from</span> subpack.moduleB <span class="keyword">import</span> printB</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="comment"># use relative imports</span></span><br><span class="line">    <span class="keyword">from</span> .moduleA <span class="keyword">import</span> printA</span><br><span class="line">    <span class="keyword">from</span> .subpack.moduleB <span class="keyword">import</span> printB</span><br><span class="line"></span><br><span class="line">__all__ = [<span class="string">&#x27;printA&#x27;</span>, <span class="string">&#x27;printB&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># -----------------------------</span></span><br><span class="line"><span class="comment"># main.py</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># from package import printA</span></span><br><span class="line"><span class="comment"># from package import printB</span></span><br><span class="line"><span class="keyword">from</span> package <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">printA() <span class="comment"># A</span></span><br><span class="line">printB() <span class="comment"># B</span></span><br></pre></td></tr></table></figure>
<h2 id="relative-and-absolute-imports">relative and absolute imports</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Folder Structure:</span></span><br><span class="line">mian.py</span><br><span class="line">package</span><br><span class="line">├── moduleA.py : <span class="keyword">def</span> <span class="title function_">printA</span>(): <span class="built_in">print</span>(<span class="string">&quot;A&quot;</span>)</span><br><span class="line">|</span><br><span class="line">└── subpack</span><br><span class="line">    ├── moduleB.py : <span class="keyword">def</span> <span class="title function_">printB</span>(): <span class="built_in">print</span>(<span class="string">&quot;B&quot;</span>)</span><br><span class="line">    └── moduleC.py</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># package/subpack/moduleC.py</span></span><br><span class="line"><span class="comment"># __name__ == &#x27;package.subpack.moduleC&#x27;</span></span><br><span class="line"><span class="comment"># use relative imports</span></span><br><span class="line"><span class="keyword">from</span> ..moduleA <span class="keyword">import</span> printA</span><br><span class="line"><span class="keyword">from</span> .moduleB <span class="keyword">import</span> printB</span><br><span class="line"></span><br><span class="line"><span class="comment"># use absolute imports</span></span><br><span class="line"><span class="keyword">from</span> package.moduleA <span class="keyword">import</span> printA</span><br><span class="line"><span class="keyword">from</span> package.subpack.moduleB <span class="keyword">import</span> printB</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">printAB</span>():</span><br><span class="line">    printA()</span><br><span class="line">    printB()</span><br><span class="line"></span><br><span class="line"><span class="comment"># -----------------------------</span></span><br><span class="line"><span class="comment"># main.py</span></span><br><span class="line"><span class="keyword">from</span> package.subpack.moduleC <span class="keyword">import</span> printAB </span><br><span class="line"></span><br><span class="line">printAB()</span><br><span class="line"><span class="comment"># A</span></span><br><span class="line"><span class="comment"># B</span></span><br></pre></td></tr></table></figure>
<h2 id="circular-imports">circular imports</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ImportError: cannot <span class="keyword">import</span> name <span class="string">&#x27;&lt;name&gt;&#x27;</span> <span class="keyword">from</span> partially initialized</span><br><span class="line">module <span class="string">&#x27;&lt;module&gt;&#x27;</span>(most likely due to a circular <span class="keyword">import</span>)...</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Folder Structure:</span></span><br><span class="line">├── main.py</span><br><span class="line">├── moduleA.py</span><br><span class="line">└── moduleB.py</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># moduleA.py</span></span><br><span class="line"><span class="keyword">from</span> moduleB <span class="keyword">import</span> funcB</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">funcA</span>():</span><br><span class="line">    funcB()</span><br><span class="line"></span><br><span class="line"><span class="comment"># -----------------------------</span></span><br><span class="line"><span class="comment"># moduleB.py</span></span><br><span class="line"><span class="keyword">from</span> moduleA <span class="keyword">import</span> funcA</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">funcB</span>():</span><br><span class="line">    funcA()</span><br><span class="line"></span><br><span class="line"><span class="comment"># -----------------------------</span></span><br><span class="line"><span class="comment"># main.py</span></span><br><span class="line"><span class="keyword">from</span> moduleA <span class="keyword">import</span> funcA</span><br><span class="line"></span><br><span class="line"><span class="comment"># ImportError: cannot import name &#x27;funcA&#x27; from partially initialized</span></span><br><span class="line"><span class="comment"># module &#x27;moduleA&#x27; (most likely due to a circular import)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># -----------------------------</span></span><br><span class="line"><span class="comment"># main.py</span></span><br><span class="line"><span class="keyword">from</span> moduleB <span class="keyword">import</span> funcB</span><br><span class="line"><span class="comment"># ImportError: cannot import name &#x27;funcB&#x27; from partially initialized</span></span><br><span class="line"><span class="comment"># module &#x27;moduleB&#x27; (most likely due to a circular import)</span></span><br></pre></td></tr></table></figure>
<p>If you want to get Recursion by importing two functions to call each other, you need use <code>import ...</code> instead of <code>from ... import ...</code>.</p>
<p>Take the example in the following <em>Recursion</em> section for example</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">funcA</span>(<span class="params">count</span>):</span><br><span class="line">    <span class="keyword">if</span> count &gt;= <span class="number">10</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;A&quot;</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> funcB(count+<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">funcB</span>(<span class="params">count</span>):</span><br><span class="line">    <span class="keyword">if</span> count &gt;= <span class="number">10</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;B&quot;</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> funcA(count+<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(funcA(<span class="number">1</span>)) <span class="comment"># B</span></span><br><span class="line"><span class="built_in">print</span>(funcB(<span class="number">1</span>)) <span class="comment"># A</span></span><br></pre></td></tr></table></figure>
<p>The code above is a plain demonstration of Recursion. We split these two functions into two different modules, then import and call them in the <code>main.py</code> file.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Folder Structure:</span></span><br><span class="line">├── main.py</span><br><span class="line">├── moduleA.py</span><br><span class="line">└── moduleB.py</span><br></pre></td></tr></table></figure>
<p>Using the two functions in this way to form Recursion, you will get an <strong>ImportError</strong>, as shown below.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># moduleA.py</span></span><br><span class="line"><span class="keyword">from</span> moduleB <span class="keyword">import</span> funcB</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">funcA</span>(<span class="params">count</span>):</span><br><span class="line">    <span class="keyword">if</span> count &gt;= <span class="number">10</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;A&quot;</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> funcB(count+<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># -----------------------------</span></span><br><span class="line"><span class="comment"># moduleB.py</span></span><br><span class="line"><span class="keyword">from</span> moduleA <span class="keyword">import</span> funcA</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">funcB</span>(<span class="params">count</span>):</span><br><span class="line">    <span class="keyword">if</span> count &gt;= <span class="number">10</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;B&quot;</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> funcA(count+<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># -----------------------------</span></span><br><span class="line"><span class="comment"># main.py</span></span><br><span class="line"><span class="keyword">from</span> moduleA <span class="keyword">import</span> funcA</span><br><span class="line"></span><br><span class="line"><span class="comment"># ImportError: cannot import name &#x27;funcA&#x27; from partially initialized</span></span><br><span class="line"><span class="comment"># module &#x27;moduleA&#x27; (most likely due to a circular import)</span></span><br></pre></td></tr></table></figure>
<p>Instead of using <code>from ... import ...</code>, using <code>import ...</code> will make this recursion feasible</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># moduleA.py</span></span><br><span class="line"><span class="comment"># from moduleB import funcB</span></span><br><span class="line"><span class="keyword">import</span> moduleB</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">funcA</span>(<span class="params">count</span>):</span><br><span class="line">    <span class="keyword">if</span> count &gt;= <span class="number">10</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;A&quot;</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> moduleB.funcB(count+<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># -----------------------------</span></span><br><span class="line"><span class="comment"># moduleB.py</span></span><br><span class="line"><span class="comment"># from moduleA import funcA</span></span><br><span class="line"><span class="keyword">import</span> moduleA</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">funcB</span>(<span class="params">count</span>):</span><br><span class="line">    <span class="keyword">if</span> count &gt;= <span class="number">10</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;B&quot;</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> moduleA.funcA(count+<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># -----------------------------</span></span><br><span class="line"><span class="comment"># main.py</span></span><br><span class="line"><span class="keyword">from</span> moduleA <span class="keyword">import</span> funcA</span><br><span class="line"><span class="keyword">from</span> moduleB <span class="keyword">import</span> funcB</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(funcA(<span class="number">1</span>)) <span class="comment"># B</span></span><br><span class="line"><span class="built_in">print</span>(funcB(<span class="number">1</span>)) <span class="comment"># A</span></span><br></pre></td></tr></table></figure>
<h2 id="Recursion">Recursion</h2>
<p>Python allows functions to call each other. By doing this, you will get a loop in your code, which is called <strong>Recursion</strong>. If you don’t define the conditions to end the loop, you will get a RecursionError, as what happened in the following code</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">funcA</span>():</span><br><span class="line">    funcB()</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">funcB</span>():</span><br><span class="line">    funcA()</span><br><span class="line"></span><br><span class="line">funcA()</span><br><span class="line"><span class="comment"># RecursionError: maximum recursion depth exceeded while calling</span></span><br><span class="line"><span class="comment"># a Python object</span></span><br></pre></td></tr></table></figure>
<p>To fix this problem, you need to define the condition of ending the recursion.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">funcA</span>(<span class="params">count</span>):</span><br><span class="line">    <span class="keyword">if</span> count &gt;= <span class="number">10</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;A&quot;</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> funcB(count+<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">funcB</span>(<span class="params">count</span>):</span><br><span class="line">    <span class="keyword">if</span> count &gt;= <span class="number">10</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;B&quot;</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> funcA(count+<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(funcA(<span class="number">1</span>)) <span class="comment"># B</span></span><br><span class="line"><span class="built_in">print</span>(funcA(<span class="number">2</span>)) <span class="comment"># A</span></span><br><span class="line"><span class="built_in">print</span>(funcB(<span class="number">1</span>)) <span class="comment"># A</span></span><br><span class="line"><span class="built_in">print</span>(funcB(<span class="number">2</span>)) <span class="comment"># B</span></span><br></pre></td></tr></table></figure>
<h2 id="import">import</h2>
<p><a target="_blank" rel="noopener" href="https://www.liaoxuefeng.com/wiki/1016959663602400/1017454145014176">模块 | 廖雪峰的官方网站</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Folder Structure:</span></span><br><span class="line">mian.py</span><br><span class="line">package</span><br><span class="line">├── __init__.py</span><br><span class="line">├── moduleA.py : <span class="keyword">def</span> <span class="title function_">printA</span>(): <span class="built_in">print</span>(<span class="string">&quot;A&quot;</span>)</span><br><span class="line">|</span><br><span class="line">├── subpack1</span><br><span class="line">|   ├── __init__.py</span><br><span class="line">│   └── moduleB.py : <span class="keyword">def</span> <span class="title function_">printB</span>(): <span class="built_in">print</span>(<span class="string">&quot;B&quot;</span>)</span><br><span class="line">|</span><br><span class="line">└── subpack2</span><br><span class="line">    ├── __init__.py</span><br><span class="line">    ├── moduleC.py : <span class="keyword">def</span> <span class="title function_">printC</span>(): <span class="built_in">print</span>(<span class="string">&quot;C&quot;</span>)</span><br><span class="line">    |</span><br><span class="line">    ├── test.py</span><br><span class="line">    |</span><br><span class="line">    └── subsubpack</span><br><span class="line">        ├── __init__.py</span><br><span class="line">        └── moduleD.py : <span class="keyword">def</span> <span class="title function_">printD</span>(): <span class="built_in">print</span>(<span class="string">&quot;D&quot;</span>)</span><br></pre></td></tr></table></figure>
<h3 id="import-moduleC">import moduleC</h3>
<ul>
<li><strong>from … import …</strong></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># package/subpack2/test.py</span></span><br><span class="line"><span class="keyword">from</span> moduleC <span class="keyword">import</span> printC</span><br><span class="line">printC() <span class="comment"># C</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong>import</strong></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># package/subpack2/test.py</span></span><br><span class="line"><span class="keyword">import</span> moduleC</span><br><span class="line">moduleC.printC() <span class="comment"># C</span></span><br></pre></td></tr></table></figure>
<h3 id="import-moduleD">import moduleD</h3>
<ul>
<li><strong>from … import …</strong></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># package/subpack2/test.py</span></span><br><span class="line"><span class="keyword">from</span> subsubpack.moduleD <span class="keyword">import</span> printD</span><br><span class="line">printD() <span class="comment"># D</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong>import</strong></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># package/subpack2/test.py</span></span><br><span class="line"><span class="keyword">import</span> subsubpack.moduleD</span><br><span class="line">subsubpack.moduleD.printD() <span class="comment"># D</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong>import … as …</strong></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># package/subpack2/test.py</span></span><br><span class="line"><span class="keyword">import</span> subsubpack.moduleD <span class="keyword">as</span> moduleD</span><br><span class="line">moduleD.printD() <span class="comment"># D</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong>relative import</strong></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># package/subpack2/test.py</span></span><br><span class="line"><span class="keyword">from</span> .subsubpack.moduleD <span class="keyword">import</span> printD</span><br><span class="line"><span class="comment"># ImportError: attempted relative import with no known parent package</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># package/subpack2/test.py</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="keyword">from</span> subsubpack.moduleD <span class="keyword">import</span> printD</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="keyword">from</span> .subsubpack.moduleD <span class="keyword">import</span> printD</span><br><span class="line"></span><br><span class="line">printD() <span class="comment"># D</span></span><br></pre></td></tr></table></figure>
<h3 id="import-moduleA">import moduleA</h3>
<ul>
<li><strong>relative import</strong></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Folder Structure:</span></span><br><span class="line">main.py : <span class="keyword">from</span> package.subpack2.test <span class="keyword">import</span> printA</span><br><span class="line">package</span><br><span class="line">├── __init__.py</span><br><span class="line">├── moduleA.py : <span class="keyword">def</span> <span class="title function_">printA</span>(): <span class="built_in">print</span>(<span class="string">&quot;A&quot;</span>)</span><br><span class="line">|</span><br><span class="line">└── subpack2</span><br><span class="line">    ├── __init__.py</span><br><span class="line">    └── test.py : <span class="keyword">from</span> ..moduleA <span class="keyword">import</span> printA</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># main.py</span></span><br><span class="line"><span class="comment"># __name__ == &#x27;__main__&#x27;</span></span><br><span class="line"><span class="keyword">from</span> package.subpack2.test <span class="keyword">import</span> printA</span><br><span class="line">printA() <span class="comment"># A</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># package/subpack2/test.py</span></span><br><span class="line"><span class="comment"># __name__ == &#x27;package.subpack2.test&#x27;</span></span><br><span class="line"><span class="keyword">from</span> ..moduleA <span class="keyword">import</span> printA</span><br><span class="line"><span class="built_in">print</span>(__name__)</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>sys.path.append</strong></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Folder Structure:</span></span><br><span class="line">package</span><br><span class="line">├── __init__.py</span><br><span class="line">├── moduleA.py : <span class="keyword">def</span> <span class="title function_">printA</span>(): <span class="built_in">print</span>(<span class="string">&quot;A&quot;</span>)</span><br><span class="line">|</span><br><span class="line">└── subpack2</span><br><span class="line">    ├── __init__.py</span><br><span class="line">    └── test.py &lt;-- main</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># package/subpack2/test.py</span></span><br><span class="line"><span class="comment"># __name__ == &#x27;__main__&#x27;</span></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="comment"># either way is ok</span></span><br><span class="line">sys.path.append(__file__+<span class="string">&#x27;\..\..&#x27;</span>)</span><br><span class="line"><span class="comment"># sys.path.append(sys.path[0]+&#x27;\..&#x27;)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> moduleA <span class="keyword">import</span> printA</span><br><span class="line">printA() <span class="comment"># A</span></span><br></pre></td></tr></table></figure>
<h3 id="import-moduleB">import moduleB</h3>
<ul>
<li><strong>sys.path.append</strong></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Folder Structure:</span></span><br><span class="line">package</span><br><span class="line">├── __init__.py</span><br><span class="line">|</span><br><span class="line">├── subpack1</span><br><span class="line">|   ├── __init__.py</span><br><span class="line">│   └── moduleB.py : <span class="keyword">def</span> <span class="title function_">printB</span>(): <span class="built_in">print</span>(<span class="string">&quot;B&quot;</span>)</span><br><span class="line">|</span><br><span class="line">└── subpack2</span><br><span class="line">    ├── __init__.py</span><br><span class="line">    └── test.py &lt;-- main</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># package/subpack2/test.py</span></span><br><span class="line"><span class="comment"># __name__ == &#x27;__main__&#x27;</span></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="comment"># either way is ok</span></span><br><span class="line">sys.path.append(__file__+<span class="string">&#x27;\..\..&#x27;</span>)</span><br><span class="line"><span class="comment"># sys.path.append(sys.path[0]+&#x27;\..&#x27;)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> subpack1.moduleB <span class="keyword">import</span> printB</span><br><span class="line">printB() <span class="comment"># B</span></span><br></pre></td></tr></table></figure>
<h3 id="what-does-sys-path-do">what does sys.path do?</h3>
<p><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/sys.html#sys.path">sys.path | python docs</a></p>
<p><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/sys_path_init.html">The initialization of the sys.path module search path</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># package/subpack2/test.py</span></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(sys.path), <span class="built_in">len</span>(sys.path))</span><br><span class="line"><span class="comment"># &lt;class &#x27;list&#x27;&gt; 10</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># the first elmnt of sys.path is CWD</span></span><br><span class="line"><span class="comment"># Current Working Directory</span></span><br><span class="line"><span class="built_in">print</span>(sys.path[<span class="number">0</span>])</span><br><span class="line"><span class="comment"># c:\Users\...\package\subpack2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># list.append(elmnt):</span></span><br><span class="line"><span class="comment"># Add elmnt to the end of a list</span></span><br><span class="line">sys.path.append(<span class="string">&quot;..&quot;</span>)</span><br><span class="line"><span class="comment"># Print the last elmnt of sys.path</span></span><br><span class="line"><span class="built_in">print</span>(sys.path[-<span class="number">1</span>])</span><br><span class="line"><span class="comment"># ..</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># list.insert(pos, elmnt):</span></span><br><span class="line"><span class="comment"># Add elmnt to the head of a list (pos=0)</span></span><br><span class="line">sys.path.insert(<span class="number">0</span>, <span class="string">&quot;..&quot;</span>)</span><br><span class="line"><span class="comment"># Print the fitst elmnt of sys.path</span></span><br><span class="line"><span class="built_in">print</span>(sys.path[<span class="number">0</span>])</span><br><span class="line"><span class="comment"># ..</span></span><br></pre></td></tr></table></figure>
<h3 id="Common-errors">Common errors</h3>
<h4 id="ImportError">ImportError</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ImportError: attempted relative <span class="keyword">import</span> <span class="keyword">with</span> no known parent package</span><br></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://stackoverflow.com/a/28154841/22415542">Answer from vaultah | Relative imports in Python 3 | stackoverflow</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># package/subpack2/test.py</span></span><br><span class="line"><span class="keyword">from</span> .subsubpack.moduleD <span class="keyword">import</span> printD</span><br><span class="line"><span class="comment"># ImportError: attempted relative import with no known parent package</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://peps.python.org/pep-0328/">PEP 328 – Imports: Multi-Line and Absolute/Relative</a>: Relative imports use a module’s <code>__name__</code> attribute to determine that module’s position in the package hierarchy. If the module’s name does not contain any package information (e.g. it is set to <code>'__main__'</code>) then relative imports are resolved as if the module were a top level module, regardless of where the module is actually located on the file system.</p>
</blockquote>
<p>You can’t excute relative imports directly, the reasons are explained above, the module’s name does not contain any package information when <code>__name__ == '__main__'</code>.</p>
<p>If you call the modules containing relative imports in the programs under their parent folder, <code>package/__init__.py</code> or <code>package/moduleA.py</code>, the relative imports will be resolved correctly.<br>
Because the <code>__name__ == 'subpack2.test'</code> in this case.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Folder Structure:</span></span><br><span class="line">package</span><br><span class="line">├── __init__.py : <span class="keyword">from</span> subpack2.test <span class="keyword">import</span> printD</span><br><span class="line">|</span><br><span class="line">└── subpack2</span><br><span class="line">    ├── __init__.py</span><br><span class="line">    ├── test.py : <span class="keyword">from</span> .subsubpack.moduleD <span class="keyword">import</span> printD</span><br><span class="line">    |</span><br><span class="line">    └── subsubpack</span><br><span class="line">        ├── __init__.py</span><br><span class="line">        └── moduleD.py : <span class="keyword">def</span> <span class="title function_">printD</span>(): <span class="built_in">print</span>(<span class="string">&quot;D&quot;</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># package/__init__.py</span></span><br><span class="line"><span class="comment"># __name__ == &#x27;__main__&#x27;</span></span><br><span class="line"><span class="keyword">from</span> subpack2.test <span class="keyword">import</span> printD</span><br><span class="line">printD() <span class="comment"># D</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># package/subpack2/test.py</span></span><br><span class="line"><span class="comment"># __name__ == &#x27;subpack2.test&#x27;</span></span><br><span class="line"><span class="keyword">from</span> .subsubpack.moduleD <span class="keyword">import</span> printD</span><br></pre></td></tr></table></figure>
<h4 id="ValueError">ValueError</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ValueError: attempted relative <span class="keyword">import</span> beyond top-level package</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Folder Structure:</span></span><br><span class="line">package</span><br><span class="line">├── __init__.py : <span class="keyword">from</span> subpack2.test <span class="keyword">import</span> printA</span><br><span class="line">├── moduleA.py : <span class="keyword">def</span> <span class="title function_">printA</span>(): <span class="built_in">print</span>(<span class="string">&quot;A&quot;</span>)</span><br><span class="line">|</span><br><span class="line">└── subpack2</span><br><span class="line">    ├── __init__.py</span><br><span class="line">    └── test.py : <span class="keyword">from</span> ..moduleA <span class="keyword">import</span> printA</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># package/__init__.py</span></span><br><span class="line"><span class="comment"># __name__ == &#x27;__main__&#x27;</span></span><br><span class="line"><span class="keyword">from</span> subpack2.test <span class="keyword">import</span> printA</span><br><span class="line"></span><br><span class="line"><span class="comment"># ------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># package/subpack2/test.py</span></span><br><span class="line"><span class="comment"># __name__ == &#x27;subpack2.test&#x27;</span></span><br><span class="line"><span class="keyword">from</span> ..moduleA <span class="keyword">import</span> printA</span><br><span class="line"></span><br><span class="line"><span class="comment">#-------------------------------------</span></span><br><span class="line"><span class="comment">#     from ..moduleA import printA</span></span><br><span class="line"><span class="comment"># ValueError: attempted relative import beyond top-level package</span></span><br></pre></td></tr></table></figure>
<h2 id="Type-Hints-and-Variable-Function-Annotations">Type Hints and Variable&amp;Function Annotations</h2>
<p><a target="_blank" rel="noopener" href="https://peps.python.org/pep-0484/">PEP 484 – Type Hints</a></p>
<p><a target="_blank" rel="noopener" href="https://peps.python.org/pep-0526/">PEP 526 – Syntax for Variable Annotations</a></p>
<p><a target="_blank" rel="noopener" href="https://peps.python.org/pep-3107/#fundamentals-of-function-annotations">PEP 3107 – Function Annotations</a></p>
<h2 id="Backslash-“-”-in-line-joining">Backslash “\” in line joining</h2>
<p><a target="_blank" rel="noopener" href="https://docs.python.org/3/reference/lexical_analysis.html#explicit-line-joining">Explicit line joining</a></p>
<p>Two or more physical lines may be joined into logical lines using backslash characters (), as follows: when a physical line ends in a backslash that is not part of a string literal or comment, it is joined with the following forming a single logical line, deleting the backslash and the following end-of-line character. For example:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="number">1900</span> &lt; year &lt; <span class="number">2100</span> <span class="keyword">and</span> <span class="number">1</span> &lt;= month &lt;= <span class="number">12</span> \</span><br><span class="line">   <span class="keyword">and</span> <span class="number">1</span> &lt;= day &lt;= <span class="number">31</span> <span class="keyword">and</span> <span class="number">0</span> &lt;= hour &lt; <span class="number">24</span> \</span><br><span class="line">   <span class="keyword">and</span> <span class="number">0</span> &lt;= minute &lt; <span class="number">60</span> <span class="keyword">and</span> <span class="number">0</span> &lt;= second &lt; <span class="number">60</span>:   <span class="comment"># Looks like a valid date</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>A line ending in a backslash cannot carry a comment. A backslash does not continue a comment. A backslash does not continue a token except for string literals (i.e., tokens other than string literals cannot be split across physical lines using a backslash). A backslash is illegal elsewhere on a line outside a string literal.</p>
<h2 id="call"><code>call</code></h2>
<h2 id="super"><code>super</code></h2>
<h2 id="setattr">setattr()</h2>
<h2 id="ops">ops</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">args = <span class="string">&#x27;C:\\Users\\xiaophai\\Desktop\\code\\Python\\Swin-Transformer-for-semantic-segmentation/mymmlab/tools\\..\\configs\\unet\\unet_s5-d16_deeplabv3_4xb4-40k_chase-db1-128x128.py&#x27;</span></span><br><span class="line">osp.join(<span class="string">&#x27;./work_dirs&#x27;</span>,osp.splitext(osp.basename(args))[<span class="number">0</span>])</span><br></pre></td></tr></table></figure>
<h2 id="classmethod-and-staticmethod">@classmethod and @staticmethod</h2>
<p><a target="_blank" rel="noopener" href="https://stackoverflow.com/a/12179752/22415542">Meaning of @classmethod and @staticmethod for beginner</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>:</span><br><span class="line">    name: <span class="built_in">str</span></span><br><span class="line">    age: <span class="built_in">int</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name:<span class="built_in">str</span>, age:<span class="built_in">int</span></span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">    </span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">from_tuple_cls</span>(<span class="params">cls, name_age: <span class="built_in">tuple</span></span>) -&gt; <span class="string">&quot;Student&quot;</span>:</span><br><span class="line">        <span class="comment"># &quot;cls&quot; means class itself, not an instance of the class like &quot;self&quot;</span></span><br><span class="line">        name, age = name_age</span><br><span class="line">        stu = cls(name, age) <span class="comment"># &lt;- Notice here</span></span><br><span class="line">        <span class="keyword">return</span> stu</span><br><span class="line">    </span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">from_tuple_stc</span>(<span class="params">name_age: <span class="built_in">tuple</span></span>) -&gt; <span class="string">&quot;Student&quot;</span>:</span><br><span class="line">        <span class="comment"># there is no obligatory parameter like a &quot;cls&quot; or &quot;self&quot;</span></span><br><span class="line">        name, age = name_age</span><br><span class="line">        stu = Student(name, age) <span class="comment"># &lt;- Notice here</span></span><br><span class="line">        <span class="keyword">return</span> stu</span><br><span class="line"></span><br><span class="line">stu1 = Student.from_tuple_cls((<span class="string">&quot;zhang&quot;</span>, <span class="number">18</span>))</span><br><span class="line">stu2 = Student.from_tuple_stc((<span class="string">&quot;Wen&quot;</span>, <span class="number">22</span>))</span><br><span class="line"><span class="built_in">print</span>(stu1.name, stu1.age) <span class="comment"># zhang 18</span></span><br><span class="line"><span class="built_in">print</span>(stu2.name, stu2.age) <span class="comment"># Wen 22</span></span><br></pre></td></tr></table></figure>
<h2 id="map-function-iterable">map(function, iterable)</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">map</span>(<span class="built_in">int</span>, [<span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;3&#x27;</span>])</span><br></pre></td></tr></table></figure>
<h2 id="Union">Union</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> <span class="type">Callable</span>, <span class="type">Dict</span>, <span class="type">List</span>, <span class="type">Optional</span>, <span class="type">Sequence</span>, <span class="type">Union</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params"></span></span><br><span class="line"><span class="params">    model: <span class="type">Union</span>[nn.Module, <span class="type">Dict</span>],</span></span><br><span class="line"><span class="params">    load_from: <span class="type">Optional</span>[<span class="built_in">str</span>] = <span class="literal">None</span>,</span></span><br><span class="line"><span class="params">    train_dataloader: <span class="type">Optional</span>[<span class="type">Union</span>[DataLoader, <span class="type">Dict</span>]] = <span class="literal">None</span>,</span></span><br><span class="line"><span class="params">    env_cfg: <span class="type">Dict</span> = <span class="built_in">dict</span>(<span class="params">dist_cfg=<span class="built_in">dict</span>(<span class="params">backend=<span class="string">&#x27;nccl&#x27;</span></span>)</span>),</span></span><br><span class="line"><span class="params"></span>):</span><br></pre></td></tr></table></figure>
<h2 id="yield">yield</h2>
<h2 id="with">with</h2>
<h2 id="args-kwargs">*args, **kwargs</h2>
<h2 id="Error">Error</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(openmmlab)...&gt;pip <span class="built_in">list</span></span><br><span class="line">...</span><br><span class="line">Could <span class="keyword">not</span> fetch URL https://pypi.org/simple/pip/: There was a problem</span><br><span class="line">confirming the ssl certificate: HTTPSConnectionPool(host=<span class="string">&#x27;pypi.org&#x27;</span>,</span><br><span class="line">port=<span class="number">443</span>): Max retries exceeded <span class="keyword">with</span> url: /simple/pip/ (Caused by SSLError</span><br><span class="line">(SSLZeroReturnError(<span class="number">6</span>, <span class="string">&#x27;TLS/SSL connection has been closed (EOF) (_ssl.</span></span><br><span class="line"><span class="string">c:1131)&#x27;</span>))) - skipping</span><br></pre></td></tr></table></figure>
<h2 id="multiprocessing-pool">multiprocessing.pool</h2>
<p><a target="_blank" rel="noopener" href="https://youtu.be/u2jTn-Gj2Xw?si=6X4r8w7LbxgM2FK1">Multiprocessing in Python: Pool | YouTube</a></p>
<p><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing.pool">multiprocessing.pool | python doc</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> multiprocessing <span class="keyword">import</span> Pool</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">sum_square</span>(<span class="params">number</span>):</span><br><span class="line">    s = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(number):</span><br><span class="line">        s += i**<span class="number">2</span></span><br><span class="line">    <span class="keyword">return</span> s</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">sum_square_with_mp</span>(<span class="params">numbers</span>):</span><br><span class="line">    start_time = time.time()</span><br><span class="line"></span><br><span class="line">    p = Pool()</span><br><span class="line">    result = p.<span class="built_in">map</span>(sum_square, numbers)</span><br><span class="line">    p.close()</span><br><span class="line">    p.join()</span><br><span class="line"></span><br><span class="line">    elapsed_time = time.time() - start_time</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;Processing <span class="subst">&#123;<span class="built_in">len</span>(numbers)&#125;</span> numbers took <span class="subst">&#123;elapsed_time&#125;</span> time using multiprocessing.&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">sum_square_without_mp</span>(<span class="params">numbers</span>):</span><br><span class="line">    start_time = time.time()</span><br><span class="line"></span><br><span class="line">    result = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> numbers:</span><br><span class="line">        result.append(sum_square(i))</span><br><span class="line"></span><br><span class="line">    elapsed_time = time.time() - start_time</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;Processing <span class="subst">&#123;<span class="built_in">len</span>(numbers)&#125;</span> numbers took <span class="subst">&#123;elapsed_time&#125;</span> time using serial processing.&quot;</span>)</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">import</span> os</span><br><span class="line">    <span class="built_in">print</span>(os.cpu_count()) <span class="comment"># 16</span></span><br><span class="line"></span><br><span class="line">    numbers = <span class="built_in">range</span>(<span class="number">100</span>)</span><br><span class="line">    sum_square_with_mp(numbers=numbers)</span><br><span class="line">    sum_square_without_mp(numbers=numbers)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># numbers = range(100):</span></span><br><span class="line">    <span class="comment"># Processing 100 numbers took 0.3546745777130127 time using multiprocessing.</span></span><br><span class="line">    <span class="comment"># Processing 100 numbers took 0.0010056495666503906 time using serial processing.</span></span><br><span class="line">    <span class="comment"># numbers = range(1000):</span></span><br><span class="line">    <span class="comment"># Processing 1000 numbers took 0.33483433723449707 time using multiprocessing.</span></span><br><span class="line">    <span class="comment"># Processing 1000 numbers took 0.10793018341064453 time using serial processing.</span></span><br><span class="line">    <span class="comment"># numbers = range(10000):</span></span><br><span class="line">    <span class="comment"># Processing 10000 numbers took 2.137113571166992 time using multiprocessing.</span></span><br><span class="line">    <span class="comment"># Processing 10000 numbers took 11.323538064956665 time using serial processing.</span></span><br></pre></td></tr></table></figure>
<h2 id="tracemalloc">tracemalloc</h2>
<p><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/tracemalloc.html">tracemalloc | python doc</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> Byte = <span class="number">8</span> Bits</span><br><span class="line"><span class="number">1</span> KiloByte(KB) = <span class="number">1024</span> Bytes</span><br><span class="line"><span class="number">1</span> MegaByte(MB) = <span class="number">1024</span> KiloBytes</span><br><span class="line"><span class="number">1</span> GigaByte(GB) = <span class="number">1024</span> MegaBytes</span><br><span class="line"><span class="number">1</span> TeraByte(TB) = <span class="number">1024</span> GigaBytes</span><br><span class="line"><span class="number">1</span> PetaByte(PB) = <span class="number">1024</span> TeraBytes</span><br><span class="line"><span class="number">1</span> ExaBytes(EB) = <span class="number">1024</span> PetaBytes</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> tracemalloc</span><br><span class="line"><span class="keyword">from</span> multiprocessing <span class="keyword">import</span> Pool</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">sum_square</span>(<span class="params">number</span>):</span><br><span class="line">    s = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(number):</span><br><span class="line">        s += i**<span class="number">2</span></span><br><span class="line">    <span class="keyword">return</span> s</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">sum_square_with_mp</span>(<span class="params">numbers</span>):</span><br><span class="line">    start_time = time.time()</span><br><span class="line"></span><br><span class="line">    p = Pool()</span><br><span class="line">    result = p.<span class="built_in">map</span>(sum_square, numbers)</span><br><span class="line">    p.close()</span><br><span class="line">    p.join()</span><br><span class="line"></span><br><span class="line">    elapsed_time = time.time() - start_time</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;Processing <span class="subst">&#123;<span class="built_in">len</span>(numbers)&#125;</span> numbers took <span class="subst">&#123;elapsed_time&#125;</span> time using multiprocessing.&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">sum_square_without_mp</span>(<span class="params">numbers</span>):</span><br><span class="line">    start_time = time.time()</span><br><span class="line"></span><br><span class="line">    result = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> numbers:</span><br><span class="line">        result.append(sum_square(i))</span><br><span class="line"></span><br><span class="line">    elapsed_time = time.time() - start_time</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;Processing <span class="subst">&#123;<span class="built_in">len</span>(numbers)&#125;</span> numbers took <span class="subst">&#123;elapsed_time&#125;</span> seconds using serial processing.&quot;</span>)</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># import os</span></span><br><span class="line">    <span class="comment"># print(os.cpu_count()) # 16</span></span><br><span class="line"></span><br><span class="line">    numbers = <span class="built_in">range</span>(<span class="number">1000</span>)</span><br><span class="line"></span><br><span class="line">    tracemalloc.start()</span><br><span class="line">    sum_square_with_mp(numbers=numbers)</span><br><span class="line">    size_with_mp, peak_with_mp = tracemalloc.get_traced_memory()</span><br><span class="line"></span><br><span class="line">    tracemalloc.clear_traces()</span><br><span class="line">    sum_square_without_mp(numbers=numbers)</span><br><span class="line">    size_without_mp, peak_without_mp = tracemalloc.get_traced_memory()</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;Memery usage of multiprocessing: \n\t\</span></span><br><span class="line"><span class="string">current size: <span class="subst">&#123;size_with_mp/(<span class="number">1024</span>**<span class="number">2</span>):<span class="number">.4</span>f&#125;</span> MB, \</span></span><br><span class="line"><span class="string">peak size: <span class="subst">&#123;peak_with_mp/(<span class="number">1024</span>**<span class="number">2</span>):<span class="number">.4</span>f&#125;</span> MB&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;Memery usage of serialprocessing: \n\t\</span></span><br><span class="line"><span class="string">current size: <span class="subst">&#123;size_without_mp/(<span class="number">1024</span>**<span class="number">2</span>):<span class="number">.4</span>f&#125;</span> MB, \</span></span><br><span class="line"><span class="string">peak size: <span class="subst">&#123;peak_without_mp/(<span class="number">1024</span>**<span class="number">2</span>):<span class="number">.4</span>f&#125;</span> MB&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Processing 1000 numbers took 0.3659026622772217 time using multiprocessing.</span></span><br><span class="line"><span class="comment"># Processing 1000 numbers took 0.3618462085723877 seconds using serial processing.</span></span><br><span class="line"><span class="comment"># Memery usage of multiprocessing:</span></span><br><span class="line"><span class="comment">#         current size: 1.3442 MB, peak size: 1.4158 MB</span></span><br><span class="line"><span class="comment"># Memery usage of serialprocessing:</span></span><br><span class="line"><span class="comment">#         current size: 0.0009 MB, peak size: 0.0365 MB</span></span><br></pre></td></tr></table></figure>
<h2 id="logging">logging</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>() -&gt; <span class="literal">None</span>:</span><br><span class="line">  <span class="comment"># logging.basicConfig(level=logging.DEBUG)</span></span><br><span class="line">  logging.basicConfig(level=logging.INFO,</span><br><span class="line">                      <span class="built_in">format</span>=<span class="string">&quot;%(asctime)s %(levelname)s %(message)s&quot;</span>,</span><br><span class="line">                      datefmt=<span class="string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>)</span><br><span class="line">  <span class="comment"># logging.basicConfig(level=logging.WARNING)</span></span><br><span class="line"></span><br><span class="line">  logging.debug(<span class="string">&quot;This is a debug message.&quot;</span>)</span><br><span class="line">  logging.info(<span class="string">&quot;This is a info message.&quot;</span>)</span><br><span class="line">  logging.warning(<span class="string">&quot;This is a warning message.&quot;</span>)</span><br><span class="line">  logging.error(<span class="string">&quot;This is a error message.&quot;</span>)</span><br><span class="line">  logging.critical(<span class="string">&quot;This is a critical message.&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">  main()</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">2024-07-11 10:55:43 INFO This is a info message.</span></span><br><span class="line"><span class="string">2024-07-11 10:55:43 WARNING This is a warning message.</span></span><br><span class="line"><span class="string">2024-07-11 10:55:43 ERROR This is a error message.</span></span><br><span class="line"><span class="string">2024-07-11 10:55:43 CRITICAL This is a critical message.</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://whut-zhangwx.github.io">文羊羽</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://whut-zhangwx.github.io/python-note/">https://whut-zhangwx.github.io/python-note/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://whut-zhangwx.github.io" target="_blank">文羊羽</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="/white" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#zip%E5%87%BD%E6%95%B0"><span class="toc-text">zip函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#enumerate"><span class="toc-text">enumerate</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%AD%E4%BB%A3%E5%99%A8-Iterators"><span class="toc-text">迭代器(Iterators)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Shallow-and-deep-copy"><span class="toc-text">Shallow and deep copy</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1"><span class="toc-text">面向对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-text">类的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#self%E4%BB%A3%E8%A1%A8%E4%BB%80%E4%B9%88"><span class="toc-text">self代表什么</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95"><span class="toc-text">构造方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E7%BB%A7%E6%89%BF"><span class="toc-text">单继承</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E7%BB%A7%E6%89%BF"><span class="toc-text">多继承</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E9%87%8D%E5%86%99"><span class="toc-text">方法重写</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A7%81%E6%9C%89"><span class="toc-text">私有</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E4%BA%8Esuper"><span class="toc-text">关于super</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E4%BA%8Ecall"><span class="toc-text">关于call</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A3%85%E9%A5%B0%E5%99%A8-Decorators"><span class="toc-text">装饰器(Decorators)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E4%BE%8B%E5%AD%90"><span class="toc-text">一个简单的例子</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E4%B8%AA%E7%95%A5%E5%BE%AE%E5%A4%8D%E6%9D%82%E7%9A%84%E4%BE%8B%E5%AD%90"><span class="toc-text">一个略微复杂的例子</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#functools-wraps-func"><span class="toc-text">@functools.wraps(func)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E7%BB%99%E8%A3%85%E9%A5%B0%E5%99%A8%E4%BC%A0%E5%85%A5%E5%8F%82%E6%95%B0"><span class="toc-text">如何给装饰器传入参数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#List-%E5%88%97%E8%A1%A8"><span class="toc-text">List(列表)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#random"><span class="toc-text">random</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#os"><span class="toc-text">os</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#os-path"><span class="toc-text">os.path</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#sys"><span class="toc-text">sys</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#glob"><span class="toc-text">glob</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Relative-path"><span class="toc-text">Relative path</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Input-and-Output"><span class="toc-text">Input and Output</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#double-backslashes-single-forward-slash"><span class="toc-text">double backslashes \\ &amp; single forward slash &#x2F;</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#json"><span class="toc-text">json</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BC%A0%E5%8F%82%E6%95%B0"><span class="toc-text">*传参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A4%E6%96%AD%E5%8F%98%E9%87%8F%E6%98%AF%E5%90%A6%E5%8F%AF%E8%BF%AD%E4%BB%A3"><span class="toc-text">判断变量是否可迭代</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#collections-Counter"><span class="toc-text">collections.Counter</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#sorted"><span class="toc-text">sorted()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#len%E3%80%81shape%E3%80%81size"><span class="toc-text">len、shape、size</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E5%8C%85%E7%9A%84%E5%AE%89%E8%A3%85%E4%BD%8D%E7%BD%AE"><span class="toc-text">查看包的安装位置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Something-about-path"><span class="toc-text">Something about path</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#time"><span class="toc-text">time</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#tqdm"><span class="toc-text">tqdm</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#cProfile"><span class="toc-text">cProfile</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#tuna"><span class="toc-text">tuna</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#for-else"><span class="toc-text">for&#x2F;else</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#argparse"><span class="toc-text">argparse</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#How-to-pass-arguments-in-Jupyter-Notebook-or-Colab"><span class="toc-text">How to pass arguments in Jupyter Notebook or Colab</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#How-to-pass-arguments-to-python-programm-with-argparse-when-debuging"><span class="toc-text">How to pass arguments to python programm with argparse when debuging?</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Python-debugging-in-VSCode"><span class="toc-text">Python debugging in VSCode</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#an-example-of-mutipul-configurations"><span class="toc-text">an example of mutipul configurations</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Settings-of-VSCode"><span class="toc-text">Settings of VSCode</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#variables-and-watch"><span class="toc-text">variables and watch</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Packages-and-init-py"><span class="toc-text">Packages and __init__.py</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#relative-and-absolute-imports"><span class="toc-text">relative and absolute imports</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#circular-imports"><span class="toc-text">circular imports</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Recursion"><span class="toc-text">Recursion</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#import"><span class="toc-text">import</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#import-moduleC"><span class="toc-text">import moduleC</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#import-moduleD"><span class="toc-text">import moduleD</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#import-moduleA"><span class="toc-text">import moduleA</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#import-moduleB"><span class="toc-text">import moduleB</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#what-does-sys-path-do"><span class="toc-text">what does sys.path do?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Common-errors"><span class="toc-text">Common errors</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#ImportError"><span class="toc-text">ImportError</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ValueError"><span class="toc-text">ValueError</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Type-Hints-and-Variable-Function-Annotations"><span class="toc-text">Type Hints and Variable&amp;Function Annotations</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Backslash-%E2%80%9C-%E2%80%9D-in-line-joining"><span class="toc-text">Backslash “\” in line joining</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#call"><span class="toc-text">call</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#super"><span class="toc-text">super</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#setattr"><span class="toc-text">setattr()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ops"><span class="toc-text">ops</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#classmethod-and-staticmethod"><span class="toc-text">@classmethod and @staticmethod</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#map-function-iterable"><span class="toc-text">map(function, iterable)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Union"><span class="toc-text">Union</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#yield"><span class="toc-text">yield</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#with"><span class="toc-text">with</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#args-kwargs"><span class="toc-text">*args, **kwargs</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Error"><span class="toc-text">Error</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#multiprocessing-pool"><span class="toc-text">multiprocessing.pool</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#tracemalloc"><span class="toc-text">tracemalloc</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#logging"><span class="toc-text">logging</span></a></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By 文羊羽</div><div class="footer_custom_text">Hi, welcome to my <a href="https://whut-zhangwx.github.io/">blog</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex/dist/contrib/copy-tex.min.js"></script><script>(() => {
  document.querySelectorAll('#article-container span.katex-display').forEach(item => {
    btf.wrap(item, 'div', { class: 'katex-wrap'})
  })
})()</script><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>